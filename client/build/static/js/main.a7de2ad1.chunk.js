(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{212:function(e,t,a){e.exports=a(483)},217:function(e,t,a){},229:function(e,t,a){},271:function(e,t,a){e.exports=a.p+"static/media/congrats.eb71f12f.jpg"},292:function(e,t){},482:function(e,t,a){e.exports=a.p+"static/media/welcome.408a8c1c.png"},483:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(29),r=a.n(i),s=(a(217),a(3)),c=a(4),o=a(6),m=a(5),u=a(7),d=a(61),p=a(27),h=a(17),g=a.n(h),E=a(15),f=a(45),y=a(53),v=(a(229),a(8)),b=a(9),w=a.n(b),C=a(13),k=a.n(C),S=a(11),N=a.n(S),j=a(1),x=a.n(j),O=a(55),A=(a(259),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){console.log(e.target,"asdf"),a.state.user[e.target.name]=e.target.value},a.onImageChange=function(e){var t=e.target.files[0];t&&(a.state.user.imageLink=URL.createObjectURL(t),a.setState({file:t,fileName:t.name,fileType:t.type}))},a.createNotification=function(e){return function(){switch(e){case"success":O.NotificationManager.success("Account updated","",2500);break;case"error":O.NotificationManager.error("Error updating account","",2500);break;case"warning":O.NotificationManager.warning("Passwords do not match","Error updating account",2500);break;case"passwordError":O.NotificationManager.error("Wrong original password","",2500)}}},a.state={user:{password:"",confirmpw:"",oldPassword:""}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.fetchUser()}},{key:"fetchUser",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t));var n="";"user"===a.role&&(n="users"),"customer"===a.role&&(n="customers"),this.setState({role:a.role}),w.a.get("/api/".concat(n,"/search?id=")+a.id).then(function(t){e.setState({user:t.data.response[0],S3_BUCKET:t.data.bucket},e.imageCheck)}).catch(function(e){console.error(e)})}},{key:"imageCheck",value:function(){var e=this.state.user;e.imageLink&&(e.imageLink="https://s3-us-west-1.amazonaws.com/".concat(this.state.S3_BUCKET,"/").concat(e.imageLink),this.setState({render:!this.state.render}))}},{key:"updateUser",value:function(){var e=this,t=this.state.user,a=this.state.user,n=a.password,l=a.confirmpw,i=a.oldPassword,r="";"user"===this.state.role&&(r="users"),"customer"===this.state.role&&(r="customers");var s=new FormData;s.append("imgFile",this.state.file);var c="";if(n!==l)return this.warning.click();c="&password=".concat(n,"&oldPassword=").concat(i),w.a.put("/api/".concat(r,"/update?id=")+this.state.user.id+"&firstName="+t.firstName+"&lastName="+t.lastName+"&title="+t.title+"&phone="+t.phone+"&email="+t.email+"&summary="+t.summary+c,s).then(function(t){console.log(t),"Wrong original password"===t.data.message?e.passwordError.click():(e.success.click(),e.fetchUser())}).catch(function(t){console.error(t),e.error.click()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.role,n=t.user;return console.log(this.state),l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:"center",style:{textAlign:"initial"}},l.a.createElement("h2",{style:{textAlign:"center"}},"Account Settings"),l.a.createElement(x.a,{style:{padding:"25px 75px"}},l.a.createElement("div",{className:"profilePic"},n.imageLink?l.a.createElement("div",null,l.a.createElement("img",{src:n.imageLink,style:{width:75,height:75,borderRadius:"50%",objectFit:"cover"},alt:""}),l.a.createElement(v.a,{icon:"user-plus",style:{opacity:.2,position:"absolute"},onClick:function(){e.upload.click()}})):l.a.createElement(v.a,{icon:"user-plus",size:"2x",color:"white",style:{opacity:.8},onClick:function(){e.upload.click()}})),n.imageLink?l.a.createElement("span",null):l.a.createElement("p",{style:{fontSize:12,textAlign:"center",marginTop:".5rem"}},"Add Profile Image"),l.a.createElement(x.a.Group,null,l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"First Name"),l.a.createElement(x.a.Control,{placeholder:n.firstName,name:"firstName",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Last Name"),l.a.createElement(x.a.Control,{placeholder:n.lastName,name:"lastName",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Old Password"),l.a.createElement(x.a.Control,{type:"password",placeholder:"Old Password",value:n.password,name:"oldPassword",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"New Password"),l.a.createElement(x.a.Control,{type:"password",placeholder:"New Password",name:"password",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Confirm Password"),l.a.createElement(x.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmpw",onChange:this.handleChange})),"user"===a?l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Title"),l.a.createElement(x.a.Control,{placeholder:n.title,name:"title",onChange:this.handleChange})):l.a.createElement("span",null),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Phone"),l.a.createElement(x.a.Control,{placeholder:n.phone,name:"phone",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Email"),l.a.createElement(x.a.Control,{placeholder:n.email,name:"email",onChange:this.handleChange})),"user"===a?l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Profile Summary"),l.a.createElement(x.a.Control,{as:"textarea",placeholder:n.summary,name:"summary",onChange:this.handleChange})):l.a.createElement("span",null))),l.a.createElement(N.a,{variant:"success",size:"lg",style:{display:"block"},onClick:this.updateUser.bind(this)},"Update Account")),l.a.createElement("button",{className:"btn btn-success",onClick:this.createNotification("success"),ref:function(t){return e.success=t},style:{display:"none"}},"Success"),l.a.createElement("button",{className:"btn btn-danger",onClick:this.createNotification("error"),ref:function(t){return e.error=t},style:{display:"none"}},"Error"),l.a.createElement("button",{className:"btn btn-warning",onClick:this.createNotification("warning"),ref:function(t){return e.warning=t},style:{display:"none"}},"Error"),l.a.createElement("button",{className:"btn btn-danger",onClick:this.createNotification("passwordError"),ref:function(t){return e.passwordError=t},style:{display:"none"}},"Error"),l.a.createElement(O.NotificationContainer,null))}}]),t}(n.Component)),I=window.Stripe("pk_test_J71dqS8brtNIK1ZYN7LCiJvd00D8Kbx2K8"),P=I.elements({fonts:[{family:"Open Sans",weight:400,src:'local("Open Sans"), local("OpenSans"), url(https://fonts.gstatic.com/s/opensans/v13/cJZKeOuBrn4kERxqtaUH3ZBw1xU1rKptJj_0jans920.woff2) format("woff2")',unicodeRange:"U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215"}]});var L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.error;t&&a.setState({errorMessage:t.message})},a.handleSubmit=function(e){function t(e){var t=new Date(1e3*e),a=t.getFullYear(),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()];return t.getDate()+" "+n+" "+a+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()}e.preventDefault(),a.props.stripe.createPaymentMethod("card",{billing_details:{name:"Jenny Rosen"}}).then(function(e){var t=e.paymentMethod;console.log("Received Stripe PaymentMethod:",t)}),a.props.stripe.createSource({type:"card",owner:{name:"Jenny Rosen"},amount:100*Number(a.state.price)}).then(function(e){var n=e.source;console.log(n);var l=t(n.created);console.log("Source:",n),console.log("Unix Time:",t(n.created)),a.setState({time:l}),console.log(l,"Time!"),w.a.post("api/auth/page?customerId=".concat(a.state.decoded.id,"&pageId=").concat(window.localStorage.getItem("pageId"),", data")).then(function(e){console.log(e),window.location="/purchased"}).catch(function(e){console.error(e)})}).catch(function(e){console.log(e)})},a.state={card:"",page:"",errorMessage:"",time:"",unixTime:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token");t&&this.setState({decoded:g()(t)}),console.log(t),console.log(window.localStorage.getItem("customer"),"COMMENT!"),window.localStorage.getItem("customer")&&w.a.get("/api/pages/search?pageId="+window.localStorage.getItem("pageId")).then(function(t){e.setState({price:t.data.response[0].price,page:t.data.response[0],customer:!0,s3Bucket:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"componentDidMount",value:function(){var e=this,t=P.create("card",{hidePostalCode:!0,style:{base:{iconColor:"#F99A52",color:"#32315E",lineHeight:"48px",fontWeight:400,fontFamily:'"Open Sans", "Helvetica Neue", "Helvetica", sans-serif',fontSize:"15px","::placeholder":{color:"#CFD7DF"}}}});t.mount("#card-element"),this.setState({card:t},function(){return console.log(e.state.card)})}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=document.querySelector("form"),a={name:t.querySelector("input[name=cardholder-name]").value,address_zip:t.querySelector("input[name=address-zip]").value};I.createToken(this.state.card,a).then(this.setOutcome)}},{key:"render",value:function(){var e=this.state,t=e.card,a=e.page;return this.state.card&&t.on("change",function(e){console.log(this),function(e){var t=document.querySelector(".success"),a=document.querySelector(".error");t.classList.remove("visible"),a.classList.remove("visible"),e.token?(t.querySelector(".token").textContent=e.token.id,t.classList.add("visible")):e.error&&(a.textContent=e.error.message,a.classList.add("visible"))}(e)}),l.a.createElement("div",null,l.a.createElement("script",{src:"https://js.stripe.com/v3/"}),l.a.createElement("body",null,l.a.createElement("form",{className:"stripe"},l.a.createElement("label",null,l.a.createElement("span",null,"Name"),l.a.createElement("input",{name:"cardholder-name",class:"field",placeholder:"Jane Doe"})),l.a.createElement("label",null,l.a.createElement("span",null,"Phone"),l.a.createElement("input",{class:"field",placeholder:"(123) 456-7890",type:"tel"})),l.a.createElement("label",null,l.a.createElement("span",null,"ZIP code"),l.a.createElement("input",{name:"address-zip",class:"field",placeholder:"94110"})),l.a.createElement("label",null,l.a.createElement("span",null,"Card"),l.a.createElement("div",{id:"card-element",class:"field"})),l.a.createElement("span",null,"Card"),l.a.createElement(y.CardElement,Object.assign({id:"card-element",className:"field",onChange:this.handleChange},{style:{base:{background:"white",boxSizing:"border-box",fontWeight:400,border:"1px solid #CFD7DF",borderRadius:"24px",color:"#32315E",outline:"none",flex:"1 1",height:"48px",lineHeight:"48px",padding:"0 20px",cursor:"text"},invalid:{color:"#c23d4b"}}})),l.a.createElement("button",{type:"submit",onClick:this.handleSubmit.bind(this)},"Pay $25"),l.a.createElement("div",{class:"outcome"},l.a.createElement("div",{class:"error"}),l.a.createElement("div",{class:"success"},"Success! Your Stripe token is ",l.a.createElement("span",{class:"token"})))),this.state.customer?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("div",{className:"page",style:{display:"flex",flex:"initial",margin:"1em auto"}},l.a.createElement("div",{style:{display:"flex",padding:7.5}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.s3Bucket,"/").concat(a.imageLink),style:{height:90,minWidth:90,maxWidth:90,objectFit:"cover",borderRadius:3}}),l.a.createElement("div",{style:{width:"100%",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:20}},l.a.createElement("p",{style:{fontSize:18,whiteSpace:"nowrap"}},a.name),l.a.createElement("p",{className:"previewText"},a.summary))))):l.a.createElement("span",null)))}}]),t}(n.Component),M=Object(y.injectStripe)(L),T=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h1",null,"Congratulations"),l.a.createElement("br",null),l.a.createElement("h5",null,"You now have access to the page ",l.a.createElement("br",null),l.a.createElement("b",null,window.localStorage.getItem("page"))),l.a.createElement("img",{src:a(271),style:{width:"100%",opacity:.6},alt:"Welcome"}),l.a.createElement(E.b,{to:"/pages/".concat(window.localStorage.getItem("pageId"))},l.a.createElement(N.a,{variant:"success",size:"lg"},"Go to Page"))))}}]),t}(n.Component),z=a(19),F=a(51),R=a.n(F),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.onFileChange=function(e){console.log(e.target.files[0]),a.setState({file:e.target.files[0],fileName:e.target.files[0].name})},a.state={content:"video",video:"",url:"",name:"Page Name",description:"Add short description...",summary:"Page Summary"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("token");e&&this.setState({decoded:g()(e)})}},{key:"addContent",value:function(){var e=this,t=this.state.url.replace("https://www.youtube.com/watch?v=","").replace("https://youtu.be/",""),a=new FormData;a.append("imgFile",this.state.file),console.log(this.state.decoded),w.a.post("/api/content/add?name="+this.state.name+"&description="+this.state.description+"&link="+t+"&type="+this.state.content+"&userName="+this.state.decoded.name+"&pageId="+this.props.match.params.pageId,a).then(function(t){console.log(t),window.location="/pages/".concat(e.props.match.params.pageId)}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state.content;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"Add Content"),l.a.createElement(R.a,{style:{width:"100%"}},l.a.createElement(N.a,{variant:"link",active:"video"===t,onClick:function(){return e.setState({content:"video"})}},"Add Video"),l.a.createElement(N.a,{variant:"link",active:"file"===t,onClick:function(){return e.setState({content:"file"})}},"Add File")),"video"===t?l.a.createElement("div",null,l.a.createElement("h2",null,"Add Video"),l.a.createElement("h5",null,"Plese link an online video and add a description for your content.")):l.a.createElement("div",null,l.a.createElement("h2",null,"Add File"),l.a.createElement("h5",null,"Plese upload a file and add a description for your content.")),l.a.createElement("br",null),l.a.createElement(x.a,{style:{padding:0,margin:"0 75px"}},l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{placeholder:"video"===t?"Video Name":"File Name",name:"name",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{as:"textarea",placeholder:"Add short description...",name:"description",onChange:this.handleChange})),"video"===t?l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{placeholder:"Add URL",name:"url",onChange:this.handleChange})):l.a.createElement("div",{style:{display:"flex",height:90,alignItems:"center",justifyContent:"center",border:"1px dashed #D8D8D7"}},l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onFileChange,style:{display:"none"}}),this.state.fileName?l.a.createElement("div",null,l.a.createElement(N.a,{variant:"success",size:"lg",className:"circle",onClick:function(){e.upload.click()}},l.a.createElement(v.a,{icon:"check"})),this.state.fileName):l.a.createElement("div",null,l.a.createElement(N.a,{variant:"success",size:"lg",className:"circle",onClick:function(){e.upload.click()}},l.a.createElement(v.a,{icon:"plus"})),l.a.createElement("h6",null,"Add Content"))),l.a.createElement(N.a,{variant:"success",onClick:this.addContent.bind(this)},"Next")))))}}]),t}(n.Component),B=a(14),U=a.n(B),W=a(10),Y=a.n(W),G=a(206),_=a.n(G),K=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={content:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token");t&&this.setState({decoded:g()(t)}),w.a.get("/api/content/search?id="+this.props.match.params.contentId).then(function(t){console.log(t),e.setState({content:t.data.response[0],EMBEDLY_API_KEY:t.data.EMBEDLY_API_KEY},e.embed)}).catch(function(e){console.error(e)})}},{key:"embed",value:function(){var e=this;w.a.get("https://api.embedly.com/1/oembed?key=".concat(this.state.EMBEDLY_API_KEY,"&url=https://www.youtube.com/watch?v=").concat(this.state.content.link)).then(function(t){console.log(t),e.setState({embed:t.data.html})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"main"},l.a.createElement("div",{style:{textAlign:"center",margin:25}},_()(this.state.embed)),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h4",null,this.state.content.name),l.a.createElement("h5",{style:{display:"flex"}},"Content Summary"),this.state.summaryEdit?l.a.createElement(Y.a,null,l.a.createElement(U.a,{as:"textarea",style:{width:"initial"},placeholder:this.state.content.description,name:"summary",onChange:this.handleChange,onBlur:this.handleEditing})):l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("p",null,this.state.content.description)))))}}]),t}(n.Component),J=a(30),V=a(36),q=a.n(V),H=a(81),$=a.n(H),Q=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={stats:[],pages:[],customers:[],customerName:""},a.searchQuery=a.searchQuery.bind(Object(J.a)(Object(J.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t)),w.a.get("api/customers/search?userId="+a.name).then(function(t){console.log(t),e.setState({customers:t.data.response,S3_BUCKET:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"enterPressed",value:function(e){13===(e.keyCode||e.which)&&this.searchQuery()}},{key:"searchQuery",value:function(){var e=this,t="";this.state.customerName&&(t=this.state.customerName);var a=window.localStorage.getItem("token");w.a.get("api/customers/search?customername="+t,{headers:{Authorization:"Bearer "+a}}).then(function(t){console.log(t.data.response),e.setState({patients:t.data.response},function(){return console.log(e.state.customers)})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{style:{backgroundColor:"#f9fafc",borderTop:"1px solid #ebecef"}},l.a.createElement("div",{className:"main"},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",margin:"20px auto"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:.2,justifyContent:"center"}},l.a.createElement(Y.a,{style:{flex:.2}},l.a.createElement(U.a,{style:{width:"initial"},label:"Search By Name",placeholder:"First or Last Name...",onChange:function(t){e.setState({customerName:t.target.value})}}),l.a.createElement(v.a,{icon:"search",style:{opacity:.2},onClick:this.searchQuery}))),l.a.createElement("div",{style:{display:"flex",flex:.2,justifyContent:"center"}},l.a.createElement("button",{search:!0,icon:"search",title:"SEARCH",onClick:this.searchQuery}," ","Search"," "))),l.a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"center",margin:"20px auto"}},l.a.createElement("div",null,l.a.createElement($.a,{title:"Recent Customers"},l.a.createElement(q.a.Item,{href:"#/action-1"},"Recent Customers"),l.a.createElement(q.a.Item,{href:"#/action-2"},"Pages Purchased"),l.a.createElement(q.a.Item,{href:"#/action-3"},"Highest Value"),l.a.createElement(q.a.Item,{href:"#/action-4"},"Sort Criteria")))),l.a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"center"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},this.state.customers.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page",style:{display:"flex",padding:18,alignItems:"center"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.S3_BUCKET,"/").concat(t.imageLink),style:{minWidth:75,maxWidth:75,height:75,marginRight:10,borderRadius:"50%",objectFit:"cover"}}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14}},t.firstName," ",t.lastName),l.a.createElement("p",null,"Item: Manatee Grooming"),l.a.createElement("p",{style:{alignItems:"left"}},l.a.createElement("span",{style:{fontSize:14}},"Status: "),l.a.createElement("span",{style:{fontSize:14,color:"green"}},"Paid")))))}))))))}}]),t}(n.Component),Z=a(42),X=a.n(Z),ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={pages:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t)),w.a.get("/api/customers/search?id=".concat(a.id)).then(function(t){console.log(t),e.setState({pages:t.data.response[0].pages,s3Bucket:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"main"},l.a.createElement("h2",{style:{textAlign:"center"}},"My Purchases"),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},this.state.pages.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page",style:{display:"flex"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.s3Bucket,"/").concat(t.imageLink),style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14,color:"#a4A5A8"}},"Published: ",l.a.createElement(X.a,{format:"M.DD.YYYY",date:t.createdAt})),l.a.createElement("p",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,"$",Math.floor(9999*Math.random()).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("span",null,"5.5k Followers"),l.a.createElement("span",null,"+98%")))))}))))}}]),t}(n.Component),te=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).sortDates=function(){a.state.pages.sort(function(e,t){return new Date(e.date).getTime()>new Date(t.date).getTime()?1:-1}),a.setState({pages:a.state.pages})},a.sortCount=function(){a.state.pages.sort(function(e,t){return t.views-e.views}),a.setState({pages:a.state.pages})},a.state={stats:[],pages:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t)),w.a.get("api/pages/search?userId="+a.id).then(function(t){console.log(t,"Hello Response!"),console.log(t.data.response[1].User.createdAt,"Date content created"),e.setState({pages:t.data.response,S3_BUCKET:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"statistics"},l.a.createElement("div",{style:{backgroundColor:"#01ae63"}},l.a.createElement(v.a,{icon:"dollar-sign"}),l.a.createElement("div",null,"$",Math.floor(99*Math.random()),"k"),l.a.createElement("div",null,"Recent Earnings (+50)")),l.a.createElement("div",{style:{backgroundColor:"#e0ab01"}},l.a.createElement(v.a,{icon:"eye"}),l.a.createElement("div",null,Math.floor(250*Math.random())/10,"m"),l.a.createElement("div",null,"Recent View (+32)")),l.a.createElement("div",{style:{backgroundColor:"#0650df"}},l.a.createElement(v.a,{icon:"user-plus"}),l.a.createElement("div",null,Math.floor(19999*Math.random()).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("div",null,"New Followers (+90)")),l.a.createElement("div",{style:{backgroundColor:"#3808aa"}},l.a.createElement(v.a,{icon:"signal"}),l.a.createElement("div",null,Math.floor(9999*Math.random())/100,"%"),l.a.createElement("div",null,"Percentages (+20)")))),l.a.createElement("div",{style:{backgroundColor:"#f9fafc",borderTop:"1px solid #ebecef"}},l.a.createElement("div",{className:"main"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px auto"}},l.a.createElement("div",null,l.a.createElement($.a,{className:"plain",title:"Popular Pages",variant:"secondary"},l.a.createElement(q.a.Item,{onClick:this.sortDates,href:"#/action-1"},"Date Published"),l.a.createElement(q.a.Item,{onClick:this.sortCount,href:"#/action-2"},"Highest Rated"),l.a.createElement(q.a.Item,{href:"#/action-3"},"Most Content"))),l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("h5",{style:{margin:0}},"Add Page"),l.a.createElement(E.b,{to:"/pages/add"},l.a.createElement(N.a,{variant:"success",size:"lg",className:"circle"},l.a.createElement(v.a,{icon:"plus"}))))),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("div",{className:"test",style:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",maxWidth:1300,margin:"0 auto"}},this.state.pages.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page"},l.a.createElement("div",{style:{display:"flex",padding:7.5}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.S3_BUCKET,"/").concat(t.imageLink),style:{height:90,minWidth:90,maxWidth:90,objectFit:"cover",borderRadius:3}}),l.a.createElement("div",{style:{width:"100%",marginLeft:20,display:"flex",flexDirection:"column",justifyContent:"space-evenly"}},l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("p",{style:{fontSize:18}},t.name),l.a.createElement(v.a,{icon:"ellipsis-v",color:"#66686b"})),l.a.createElement("p",{style:{fontSize:14,color:"#a4A5A8"}},"Published: ",l.a.createElement(X.a,{format:"M.DD.YYYY",date:t.createdAt}))),l.a.createElement("p",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,"$",Math.floor(9999*Math.random()).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"\xa0\xa0\xa0\xa05.5k Followers \xa0\xa0\xa0\xa0",l.a.createElement("span",{style:{color:"#01ae63"}},"+98%")))))))})))))))}}]),t}(n.Component),ae=a(82),ne=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(ae.slide,null,l.a.createElement("a",{id:"home",className:"menu-item",href:"/"},"Home"),l.a.createElement("a",{id:"about",className:"menu-item",href:"/about"},"About"),l.a.createElement("a",{id:"contact",className:"menu-item",href:"/contact"},"Contact"),l.a.createElement("a",{onClick:this.showSettings,className:"menu-item--small",href:""},"Settings"))}}]),t}(l.a.Component),le=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){window.confirm("Would you like to log out of PV3?")&&(window.localStorage.removeItem("token"),window.location="/")}},{key:"render",value:function(){var e=this,t=this.props.decoded.role;return console.log(this.props.decoded),l.a.createElement("header",null,l.a.createElement("div",null,l.a.createElement(E.b,{to:"/"},l.a.createElement("h1",{style:{color:"#333",margin:"0 30px"}},"Swiply"))),this.props.decoded?l.a.createElement("div",{style:{height:"100%"}},l.a.createElement("div",{className:"navigation",style:{height:"100%"}},"user"===t?l.a.createElement("div",{style:{display:"inherit"}},l.a.createElement(E.b,{to:"/dashboard"},"Dashboard"),l.a.createElement(E.b,{to:"/sales"},"Sales"),l.a.createElement(E.b,{to:"/customers"},"Customers"),l.a.createElement(E.b,{to:"/profile/edit/".concat(this.props.decoded.id)},"Public Profile")):l.a.createElement("span",null),l.a.createElement(E.b,{to:"/account/".concat(this.props.decoded.id)},l.a.createElement(v.a,{icon:"user"}),"My Account"),"customer"===t?l.a.createElement("div",{style:{display:"inherit"}},l.a.createElement(E.b,{to:"/purchases"},"My Purchases"),l.a.createElement(E.b,{to:"contact-us"},"Contact Us")):l.a.createElement("span",null),l.a.createElement(E.b,{to:"/",onClick:this.logout,className:"signOut"},l.a.createElement(v.a,{icon:"sign-out-alt"}),"Sign out")),l.a.createElement(ae.slide,{className:"nav-mobile",right:!0},l.a.createElement("a",{id:"dashboard",className:"menu-item",href:"/dashboard"},"Dashboard"),l.a.createElement("a",{id:"sales",className:"menu-item",href:"/sales"},"Sales"),l.a.createElement("a",{id:"customers",className:"menu-item",href:"/customers"},"Customers"),l.a.createElement("a",{id:"dashboard",className:"menu-item",href:"/profile/edit/".concat(this.props.decoded.id)},"Public Profile"),l.a.createElement("a",{id:"dashboard",className:"menu-item",href:"/account/".concat(this.props.decoded.id)},"My Account"),l.a.createElement(E.b,{to:"/",onClick:this.logout},l.a.createElement(v.a,{icon:"sign-out-alt"}),"Sign out"))):l.a.createElement("div",null,this.props.login?l.a.createElement("div",{className:"link",onClick:function(){return e.props.setState({login:!1})},style:{padding:"0 30px"}},"Register"):l.a.createElement("div",{className:"link",onClick:function(){return e.props.setState({login:!0})},style:{padding:"0 30px"}},"Sign In")))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.handleEditing=function(e){var t=e.currentTarget.getAttribute("name")+"Edit";a.setState(Object(z.a)({},t,!a.state[t]))},a.onImageChange=function(e){var t=e.target.files[0];a.setState({image:URL.createObjectURL(t),file:t,fileName:t.name,fileType:t.type})},a.state={image:"",name:"Page Name",description:"Short Description",summary:"Page Summary"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=window.localStorage.getItem("token");e&&this.setState({decoded:g()(e)})}},{key:"addPage",value:function(){var e=this.state,t=e.file,a=t.name.split("."),n=a[0],l=a[1];console.log("Preparing the upload",t);var i=new FormData;i.append("imgFile",t),w.a.post("/api/pages/add?userId="+e.decoded.id+"&name="+e.name+"&description="+e.description+"&summary="+e.summary+"&fileName="+n+"&fileType="+l,i).then(function(e){console.log(e),window.location="/dashboard"}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:""===this.state.image?"imageBanner":"imageBanner set"},l.a.createElement("form",{action:"/add",method:"post",enctype:"multipart/form-data",style:{padding:0}},l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}})),l.a.createElement("img",{src:this.state.image,style:{width:"100%",opacity:.2},alt:""}),l.a.createElement("div",{className:"textOverlay"},this.state.image?l.a.createElement("span",null):l.a.createElement(v.a,{icon:"plus",size:"6x",style:{opacity:.2},onClick:function(){e.upload.click()}}),this.state.nameEdit?l.a.createElement(Y.a,null,l.a.createElement(U.a,{style:{width:"initial"},placeholder:this.state.name,name:"name",onChange:this.handleChange,onBlur:this.handleEditing})):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("h3",null,this.state.name),l.a.createElement(v.a,{icon:"pen",name:"name",onClick:this.handleEditing})),this.state.descriptionEdit?l.a.createElement(U.a,{style:{width:"initial"},placeholder:this.state.description,name:"description",onChange:this.handleChange,onBlur:this.handleEditing}):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("p",null,this.state.description),l.a.createElement(v.a,{icon:"pen",name:"description",onClick:this.handleEditing})))),l.a.createElement("div",{className:"main"},l.a.createElement("div",null,this.state.summaryEdit?l.a.createElement(Y.a,null,l.a.createElement(U.a,{as:"textarea",style:{width:"initial"},placeholder:this.state.summary,name:"summary",onChange:this.handleChange,onBlur:this.handleEditing})):l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("h4",null,this.state.summary),l.a.createElement(v.a,{icon:"pen",name:"summary",onClick:this.handleEditing}))),l.a.createElement(N.a,{variant:"success",size:"lg",style:{display:"block"},onClick:this.addPage.bind(this)},"+ Add Page"))))}}]),t}(n.Component),re=a(209),se=a.n(re),ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.state.page[e.target.name]=e.target.value},a.handleEditing=function(e){var t=e.currentTarget.getAttribute("name")+"Edit";a.setState(Object(z.a)({},t,!a.state[t]))},a.handlePublish=function(e){var t=e.target.value,n=a.state.page;w.a.put("/api/pages/update?id="+n.id+"&published="+t).then(function(e){console.log(e),window.location.reload()}).catch(function(e){console.error(e)})},a.state={image:"",name:"Page Name",description:"Short Description",summary:"Page Summary",page:{User:{},Contents:[]},edit:!1,priceEdit:!1,viewAccess:!1,checked:!1},a.handleSwitch=a.handleSwitch.bind(Object(J.a)(Object(J.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;window.localStorage.removeItem("customer"),window.localStorage.removeItem("pageId"),window.localStorage.removeItem("page");var t=window.localStorage.getItem("token");t&&this.setState({decoded:g()(t)}),w.a.get("/api/pages/search?pageId="+this.props.match.params.pageId).then(function(t){console.log(t),e.setState({page:t.data.response[0],image:"https://s3-us-west-1.amazonaws.com/".concat(t.data.bucket,"/").concat(t.data.response[0].imageLink),s3Bucket:t.data.bucket},e.checkPermissions)}).catch(function(e){console.error(e)})}},{key:"componentDidMount",value:function(){w.a.put("/api/pages/update?id=".concat(this.props.match.params.pageId,"&view=",!0)).then(function(e){console.log(e)}).catch(function(e){console.error(e)})}},{key:"checkPermissions",value:function(){var e=this;console.log(this.state.decoded),this.state.decoded&&"customer"===this.state.decoded.role&&w.a.get("/api/customers/search?id=".concat(this.state.decoded.id)).then(function(t){console.log(t);for(var a=t.data.response[0],n=[],l=0;l<a.pages.length;l++)n.push(a.pages[l].id);n.includes(e.state.page.id)&&e.setState({viewAccess:!0})}).catch(function(e){console.error(e)}),this.state.decoded&&this.state.decoded.id===this.state.page.UserId&&this.setState({edit:!0})}},{key:"handleSwitch",value:function(e){this.setState({checked:e})}},{key:"updatePage",value:function(){var e=this.state.page;w.a.put("/api/pages/update?id="+e.id+"&name="+e.name+"&description="+e.description+"&summary="+e.summary+"&price="+e.price).then(function(e){console.log(e),window.location.reload()}).catch(function(e){console.error(e)})}},{key:"customerSignup",value:function(){window.localStorage.setItem("customer",!0),window.localStorage.setItem("pageId",this.state.page.id),window.localStorage.setItem("page",this.state.page.name),window.location="/"}},{key:"render",value:function(){var e=this,t=this.state,a=t.edit,n=t.page,i=n.User;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:"imageBanner set"},l.a.createElement("input",{type:"file",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}}),l.a.createElement("img",{src:this.state.image,style:{width:"100%",opacity:.3},alt:""}),a?l.a.createElement("div",{style:{position:"absolute",top:10,right:25}},n.published?l.a.createElement(N.a,{variant:"dark",size:"sm",value:!1,onClick:this.handlePublish.bind(this),style:{width:"initial"}},"Unpublish"):l.a.createElement(N.a,{variant:"dark",size:"sm",value:!0,onClick:this.handlePublish.bind(this),style:{width:"initial"}},"Publish")):l.a.createElement("span",null),l.a.createElement("div",{className:"textOverlay"},this.state.image?l.a.createElement("span",null):l.a.createElement(v.a,{icon:"plus",size:"6x",style:{opacity:.1},onClick:function(){e.upload.click()}}),this.state.nameEdit?l.a.createElement(Y.a,null,l.a.createElement(U.a,{style:{width:"initial"},placeholder:this.state.name,name:"name",onChange:this.handleChange,onBlur:this.handleEditing,autoFocus:!0})):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("h3",null,n.name),a?l.a.createElement(v.a,{icon:"pen",name:"name",onClick:this.handleEditing}):l.a.createElement("span",null)),this.state.descriptionEdit?l.a.createElement(U.a,{style:{width:"initial"},placeholder:this.state.description,name:"description",onChange:this.handleChange,onBlur:this.handleEditing,autoFocus:!0}):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("p",null,n.description),a?l.a.createElement(v.a,{icon:"pen",name:"description",onClick:this.handleEditing}):l.a.createElement("span",null)),this.state.viewAccess?l.a.createElement("span",null):l.a.createElement(N.a,{variant:"success",size:"lg",onClick:a?null:this.state.decoded?function(){return window.location="/checkout"}:function(){return e.customerSignup()}},a?l.a.createElement("div",null,this.state.priceEdit?l.a.createElement(U.a,{style:{width:"initial"},placeholder:"Amount or 'Free'",name:"price",onChange:this.handleChange,onBlur:this.handleEditing,autoFocus:!0}):l.a.createElement("div",null,"Set Pricing $",n.price?n.price:"--","\xa0",a?l.a.createElement(v.a,{icon:"pen",name:"price",onClick:this.handleEditing}):l.a.createElement("span",null))):l.a.createElement("span",null,"Request Page Access $",n.price)))),l.a.createElement("div",{className:"main"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},this.state.checked?l.a.createElement("div",{style:{display:"flex",marginBottom:10}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.s3Bucket,"/").concat(i.imageLink),style:{width:75,height:75,marginRight:10,borderRadius:"50%",objectFit:"cover"},alt:""}),l.a.createElement("div",null,l.a.createElement("h5",null,i.firstName," ",i.lastName),l.a.createElement("p",null,l.a.createElement("i",null,i.title)))):l.a.createElement("span",null),a?l.a.createElement("label",{style:{display:"flex"}},l.a.createElement("span",{style:{marginRight:10}},"Display Profile"),l.a.createElement(se.a,{onChange:this.handleSwitch,checked:this.state.checked,checkedIcon:!1,uncheckedIcon:!1})):l.a.createElement("span",null)),this.state.checked?l.a.createElement("p",null,i.summary):l.a.createElement("span",null),a?l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:35}},l.a.createElement("h5",{style:{margin:0}},"Add Content"),l.a.createElement(E.b,{to:"/pages/".concat(this.props.match.params.pageId,"/add-content")},l.a.createElement(N.a,{variant:"success",size:"lg",className:"circle"},l.a.createElement(v.a,{icon:"plus"})))):l.a.createElement("span",null),l.a.createElement("div",null,this.state.summaryEdit?l.a.createElement(Y.a,null,l.a.createElement(U.a,{as:"textarea",style:{width:"initial"},placeholder:this.state.summary,name:"summary",onChange:this.handleChange,onBlur:this.handleEditing,autoFocus:!0})):l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("p",null,n.summary),a?l.a.createElement(v.a,{icon:"pen",name:"summary",onClick:this.handleEditing}):l.a.createElement("span",null))),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},this.state.page.Contents.map(function(t,a){return l.a.createElement("a",{href:e.state.viewAccess||e.state.edit?"video"===t.type?"/pages/".concat(e.props.match.params.pageId,"/").concat(t.id):"https://s3-us-west-1.amazonaws.com/".concat(e.state.s3Bucket,"/").concat(t.link):l.a.createElement("span",null),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page",style:{display:"flex"}},"video"===t.type?l.a.createElement("img",{src:"https://img.youtube.com/vi/".concat(t.link,"/0.jpg"),style:{width:75,objectFit:"cover",marginRight:20}}):l.a.createElement(v.a,{icon:"file",size:"4x",style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14,color:"#a4A5A8"}},"Published: ",l.a.createElement(X.a,{format:"M.DD.YYYY",date:t.createdAt})),l.a.createElement("p",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,"$",Math.floor(9999*Math.random()).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("span",null,"5.5k Followers"),l.a.createElement("span",null,"+98%")))))})),a?l.a.createElement(N.a,{variant:"success",size:"lg",style:{display:"block"},onClick:this.updatePage.bind(this)},"Update Page"):l.a.createElement("span",null))))}}]),t}(n.Component),oe=a(210),me=a(211),ue=a.n(me),de=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;if("name"===n){var i=l.split(" ");return a.state.user.firstName=i[0],void(a.state.user.lastName=i[1])}a.state.user[n]=l,a.setState({render:!a.state.render})},a.handleEditing=function(e){var t=e.currentTarget.getAttribute("name")+"Edit";a.setState(Object(z.a)({},t,!a.state[t]))},a.onImageChange=function(e){var t=e.target.files[0];t&&(a.state.user.imageLink=URL.createObjectURL(t),a.setState({file:t,fileName:t.name,fileType:t.type}))},a.state={image:"",pages:[],sortedList:[],user:{firstName:"",lastName:"",Pages:[],profile:""},socialMedia:["instagram","facebook","twitter","linkedIn","whatsapp","website"],copied:!1,nameEdit:!1,titleEdit:!1},a.onSort=a.onSort.bind(Object(J.a)(Object(J.a)(a))),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t)),w.a.get("/api/users/search?id="+a.id).then(function(t){e.setState({user:t.data.response[0],s3Bucket:t.data.bucket,baseUrl:t.data.BASE_URL},e.imageCheck)}).catch(function(e){console.error(e)})}},{key:"imageCheck",value:function(){var e=this.state.user;e.imageLink&&(e.imageLink="https://s3-us-west-1.amazonaws.com/".concat(this.state.s3Bucket,"/").concat(e.imageLink),this.setState({render:!this.state.render}))}},{key:"updateUser",value:function(){for(var e=this.state,t=e.socialMedia,a=e.user,n="",l=0;l<t.length;l++)console.log(a[t[l]]),a[t[l]]?n+="&".concat(t[l],"=").concat(a[t[l]]):n+="&".concat(t[l],"=");var i=new FormData;if(i.append("imgFile",this.state.file),w.a.put("/api/users/update?id="+a.id+"&firstName="+a.firstName+"&lastName="+a.lastName+"&title="+a.title+"&profile="+a.profile+n,i).then(function(e){console.log(e),window.location.reload()}).catch(function(e){console.error(e)}),this.state.sortedList){console.log("HIIIII",this.state.sortedList);for(var r=0;r<this.state.sortedList.length;r++){var s=this.state.sortedList;w.a.put("/api/pages/update?id=".concat(s[r].key,"&order=").concat(s[r].rank)).then(function(e){console.log(e)}).catch(function(e){console.error(e)})}}}},{key:"onSort",value:function(e){console.log("sortedList",e)}},{key:"render",value:function(){var e=this;console.log(this.state.user);var t=this.state,a=t.baseUrl,n=t.user,i=this.state.user.Pages.map(function(t,a){return{content:l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial",fontWeight:"bold",width:"100%"},key:t.id},l.a.createElement("div",{className:"page",style:{display:"flex",padding:7.5,width:"initial",margin:"10px 0",background:"#fff"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.s3Bucket,"/").concat(t.imageLink),style:{height:90,minWidth:90,maxWidth:90,objectFit:"cover",borderRadius:3}}),l.a.createElement("div",{style:{width:"100%",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"space-evenly",marginLeft:20}},l.a.createElement("p",{style:{whiteSpace:"nowrap"}},t.name),l.a.createElement("p",{className:"previewText"},t.summary))))}});return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{flex:1}},l.a.createElement("div",{className:"center",style:{textAlign:"left"}},l.a.createElement("h5",{style:{textAlign:"center"}},"My PV3 Link"),l.a.createElement(Y.a,{style:{height:55}},l.a.createElement(Y.a.Prepend,null,l.a.createElement(Y.a.Text,{style:{borderTopLeftRadius:27.5,borderBottomLeftRadius:27.5}},a,"/profile/")),l.a.createElement(U.a,{placeholder:n.profile,style:{height:55,borderRadius:0},name:"profile",onChange:this.handleChange}),l.a.createElement(oe.CopyToClipboard,{text:"".concat(a,"/profile/").concat(n.profile),onCopy:function(){return e.setState({copied:!0})},style:{cursor:"pointer"}},l.a.createElement(Y.a.Append,null,l.a.createElement(Y.a.Text,{style:{background:"#01ae63",color:"#fff",borderTopRightRadius:27.5,borderBottomRightRadius:27.5}},"Copy")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("h3",null,"Connect Your Social Media"),l.a.createElement("p",null,"Add links to your social media accounts below:"),l.a.createElement("br",null),l.a.createElement("div",{className:"smSettings"},l.a.createElement("label",{className:"smLabel"},"Instagram"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"smInput",style:n.instagram?{borderRight:"none"}:{},placeholder:n.instagram,name:"instagram",onChange:this.handleChange}),n.instagram?l.a.createElement(Y.a.Append,null,l.a.createElement(Y.a.Text,null,l.a.createElement(v.a,{icon:"check",color:"#00af63"}))):l.a.createElement("span",null)),l.a.createElement("br",null),l.a.createElement("label",null,"Facebook"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"smInput",style:n.facebook?{borderRight:"none"}:{},placeholder:n.facebook,name:"facebook",onChange:this.handleChange}),n.facebook?l.a.createElement(Y.a.Append,null,l.a.createElement(Y.a.Text,null,l.a.createElement(v.a,{icon:"check",color:"#00af63"}))):l.a.createElement("span",null)),l.a.createElement("br",null),l.a.createElement("label",null,"Twitter"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"smInput",style:n.twitter?{borderRight:"none"}:{},placeholder:n.twitter,name:"twitter",onChange:this.handleChange}),n.twitter?l.a.createElement(Y.a.Append,null,l.a.createElement(Y.a.Text,null,l.a.createElement(v.a,{icon:"check",color:"#00af63"}))):l.a.createElement("span",null)),l.a.createElement("br",null),l.a.createElement("label",null,"Linkedin"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"smInput",style:n.linkedIn?{borderRight:"none"}:{},placeholder:n.linkedIn,name:"linkedIn",onChange:this.handleChange}),n.linkedIn?l.a.createElement(Y.a.Append,null,l.a.createElement(Y.a.Text,null,l.a.createElement(v.a,{icon:"check",color:"#00af63"}))):l.a.createElement("span",null)),l.a.createElement("br",null),l.a.createElement("label",null,"WhatsApp"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"smInput",style:n.whatsapp?{borderRight:"none"}:{},placeholder:n.whatsapp,name:"whatsapp",onChange:this.handleChange}),n.whatsapp?l.a.createElement(Y.a.Append,null,l.a.createElement(Y.a.Text,null,l.a.createElement(v.a,{icon:"check",color:"#00af63"}))):l.a.createElement("span",null)),l.a.createElement("br",null),l.a.createElement("label",null,"Website (URL)"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"smInput",style:n.website?{borderRight:"none"}:{},placeholder:n.website,name:"website",onChange:this.handleChange}),n.website?l.a.createElement(Y.a.Append,null,l.a.createElement(Y.a.Text,null,l.a.createElement(v.a,{icon:"check",color:"#00af63"}))):l.a.createElement("span",null)),l.a.createElement("br",null),l.a.createElement("label",null,"Email Address"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"smInput",placeholder:n.email,name:"email",onChange:this.handleChange})))),l.a.createElement(N.a,{variant:"success",size:"lg",style:{display:"block"},onClick:this.updateUser.bind(this)},"Update Settings")),l.a.createElement("div",{className:"editProfile",style:{flex:1.5}},l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"smartphone",style:{overflow:"scroll",boxShadow:"-5px 10px 35px 1px #333"}},l.a.createElement("div",{className:"content"},l.a.createElement("div",{id:"background",className:"imageBanner set",style:{height:335,background:"#fff"}},l.a.createElement("img",{src:n.Pages.length>0?n.imageLink:"",style:{width:"100%",height:"100%",opacity:.35,filter:"blur(4px)",objectFit:"cover"},alt:""}),l.a.createElement("div",{className:"textOverlay"},l.a.createElement("div",{className:"profilePic"},n.imageLink?l.a.createElement("div",null,l.a.createElement("img",{src:n.imageLink,style:{width:75,height:75,borderRadius:"50%",objectFit:"cover"},alt:""}),l.a.createElement(v.a,{icon:"user-plus",style:{opacity:.2,position:"absolute"},onClick:function(){e.upload.click()}})):l.a.createElement(v.a,{icon:"user-plus",size:"2x",color:"white",style:{opacity:.8,cursor:"initial"}})),l.a.createElement("br",null),l.a.createElement("div",null,this.state.nameEdit?l.a.createElement(Y.a,null,l.a.createElement(U.a,{placeholder:n.firstName+(n.lastName?" "+n.lastName:""),name:"name",onChange:this.handleChange,onBlur:this.handleEditing,autoFocus:!0})):l.a.createElement("div",null,l.a.createElement("h4",{style:{fontSize:18,fontWeight:"bold",margin:0}},n.firstName+(n.lastName?" "+n.lastName:""),this.state.nameEdit||this.state.titleEdit?l.a.createElement("span",null):l.a.createElement(v.a,{icon:"pen",size:"sm",style:{position:"absolute",opacity:.3},onClick:function(){return e.setState({nameEdit:!0})}}))),this.state.titleEdit?l.a.createElement(Y.a,null,l.a.createElement(U.a,{placeholder:n.title,name:"title",onChange:this.handleChange,onBlur:this.handleEditing,autoFocus:!0})):l.a.createElement("div",null,l.a.createElement("p",{style:{fontSize:13,fontStyle:"italic"}},n.title,this.state.nameEdit||this.state.titleEdit?l.a.createElement("span",null):l.a.createElement(v.a,{icon:"pen",size:"xs",style:{position:"absolute",opacity:.3},onClick:function(){return e.setState({titleEdit:!0})}})))))),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",margin:"15px 10px"}},this.state.user.Pages.length>0?l.a.createElement("h6",{style:{textAlign:"left",fontWeight:"bold"}},"Courses"):l.a.createElement("h6",{style:{margin:"0 auto"}},"No pages yet!"),l.a.createElement(ue.a,{items:i,onSort:this.onSort.bind(this)}),l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}}))))))))}}]),t}(n.Component),pe=a(56),he=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.state.page[e.target.name]=e.target.value},a.handleEditing=function(e){var t=e.currentTarget.getAttribute("name")+"Edit";a.setState(Object(z.a)({},t,!a.state[t]))},a.state={image:"",name:"Page Name",description:"Short Description",summary:"Page Summary",user:{firstName:"",lastName:"",Pages:[]}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;w.a.get("/api/users/search?profile="+this.props.match.params.profile).then(function(t){console.log(t),e.setState({user:t.data.response[0],background:"https://s3-us-west-1.amazonaws.com/".concat(t.data.bucket,"/").concat(t.data.response[0].Pages[0].imageLink)||!1,S3_BUCKET:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state.user;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:"imageBanner set"},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:"100%",filter:"blur(10px)",opacity:.3},alt:""}),l.a.createElement("div",{className:"textOverlay"},l.a.createElement("div",{className:"profilePic"},t.imageLink?l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:75,height:75,borderRadius:"50%",objectFit:"cover"},alt:""}):l.a.createElement(v.a,{icon:"user-plus",size:"2x",color:"white",style:{opacity:.8,cursor:"initial"}})),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h3",null,t.firstName+" "+t.lastName),l.a.createElement("p",null,t.title)),l.a.createElement("div",{className:"social"},t.facebook?l.a.createElement(pe.SocialIcon,{url:t.facebook}):l.a.createElement("span",null),t.twitter?l.a.createElement(pe.SocialIcon,{url:t.twitter}):l.a.createElement("span",null),t.linkedIn?l.a.createElement(pe.SocialIcon,{url:t.linkedIn}):l.a.createElement("span",null),t.whatsapp?l.a.createElement(pe.SocialIcon,{url:t.whatsapp}):l.a.createElement("span",null),t.website?l.a.createElement(pe.SocialIcon,{url:t.website}):l.a.createElement("span",null))))),l.a.createElement("div",{className:"main"},l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("p",null,t.summary)),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},this.state.user.Pages.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page"},l.a.createElement("div",{style:{display:"flex",padding:7.5}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.S3_BUCKET,"/").concat(t.imageLink),style:{height:90,minWidth:90,maxWidth:90,objectFit:"cover",borderRadius:3}}),l.a.createElement("div",{style:{width:"100%",textAlign:"left",display:"flex",flexDirection:"column",justifyContent:"center",marginLeft:20}},l.a.createElement("p",{style:{fontSize:18,whiteSpace:"nowrap"}},t.name),l.a.createElement("p",{className:"previewText"},t.summary)))))})))))}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.props.setState(Object(z.a)({},e.target.name,e.target.value))},a.onImageChange=function(e){var t=e.target.files[0];t&&a.props.setState({image:URL.createObjectURL(t),file:t,fileName:t.name,fileType:t.type})},a.state={page:""},window.performance&&1==performance.navigation.type&&window.localStorage.clear(),a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"verifyPhone",value:function(){var e=this;w.a.post("api/auth/send?phone="+this.props.state.phone).then(function(t){console.log(t),e.props.setState({verifyCode:t.data.verifyCode,view:"VerifyAccount"})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props.state.page;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"Create Account"),l.a.createElement("br",null),l.a.createElement(x.a,{className:"login"},l.a.createElement(x.a.Group,null,l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}}),l.a.createElement("div",{className:"profilePic"},this.props.state.image?l.a.createElement("div",null,l.a.createElement("img",{src:this.props.state.image,style:{width:75,height:75,borderRadius:"50%",objectFit:"cover"},alt:""}),l.a.createElement(v.a,{icon:"user-plus",style:{opacity:.2,position:"absolute"},onClick:function(){e.upload.click()}})):l.a.createElement(v.a,{icon:"user-plus",size:"2x",color:"white",style:{opacity:.8},onClick:function(){e.upload.click()}})),this.props.state.image?l.a.createElement("span",null):l.a.createElement("p",{style:{fontSize:12,marginTop:".5rem"}},"Add Profile Image")),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{placeholder:"First Name",name:"firstName",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{placeholder:"Last Name",name:"lastName",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{placeholder:"Email Address",name:"email",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{type:"password",placeholder:"Password",name:"password",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{type:"password",placeholder:"Confirm Password",name:"confirmpw",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Control,{placeholder:"Phone Number",name:"phone",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Check,{type:"checkbox",label:"Remember me"}))),this.props.state.customer?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("div",{className:"page",style:{display:"flex",flex:"initial",margin:"1em auto",padding:7.5}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.props.state.s3Bucket,"/").concat(t.imageLink),style:{height:90,minWidth:90,maxWidth:90,objectFit:"cover",borderRadius:3}}),l.a.createElement("div",{style:{width:"100%",textAlign:"left",marginLeft:20,display:"flex",flexDirection:"column",justifyContent:"space-evenly"}},l.a.createElement("p",{style:{fontSize:18,fontWeight:"bold"}},t.name),l.a.createElement("p",{style:{fontSixe:14}},t.description)),l.a.createElement("div",null,"$",t.price))):l.a.createElement("span",null),l.a.createElement(N.a,{variant:"success",size:"lg",onClick:this.verifyPhone.bind(this)},"Continue")))}}]),t}(n.Component),Ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.state={code:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"verifyAccount",value:function(){this.state.code===JSON.stringify(this.props.state.verifyCode)?this.props.setState({view:"ProfileSummary"}):window.alert("Verification code is invalid. Please try again.")}},{key:"register",value:function(){var e=this.props.state,t=new FormData;t.append("imgFile",e.file),w.a.post("api/customers/register?firstName="+e.firstName+"&lastName="+e.lastName+"&email="+e.email+"&phone="+e.phone+"&summary="+e.summary,t).then(function(e){console.log(e),window.localStorage.setItem("token",e.data.token),window.location="/checkout"}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h3",null,"Verify Your Account"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"verificationInput",placeholder:"0000",name:"code",onChange:this.handleChange})),l.a.createElement("p",null,"We sent a 4 digit confirmation code to",l.a.createElement("br",null),this.props.state.phone,l.a.createElement("br",null),"You should get it in a few seconds"),this.props.state.customer?l.a.createElement(N.a,{variant:"success",size:"lg",onClick:this.register.bind(this)},"Register"):l.a.createElement(N.a,{variant:"success",size:"lg",onClick:this.verifyAccount.bind(this)},"Continue")))}}]),t}(n.Component),fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){a.props.setState(Object(z.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h3",null,"Create a profile summary"),l.a.createElement("br",null),l.a.createElement(x.a,{style:{paddingTop:0,paddingBottom:0}},l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Content Provider Summary"),l.a.createElement(x.a.Control,{as:"textarea",rows:"4",placeholder:"I grew up in Arizona and moved to SF when I was 5...",name:"summary",onChange:this.handleChange})),l.a.createElement(x.a.Group,null,l.a.createElement(x.a.Label,null,"Add categories of content you will offer"),l.a.createElement(x.a.Control,{as:"textarea",rows:"4",placeholder:"Add a category",name:"category",onChange:this.handleChange}))),l.a.createElement(N.a,{variant:"success",size:"lg",onClick:function(){return e.props.setState({view:"SubscriptionPlan"})}},"Next")))}}]),t}(n.Component),ye=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"register",value:function(){var e=this.props.state;if(e.password===e.confirmpw){var t=new FormData;t.append("imgFile",e.file),w.a.post("api/users/register?firstName="+e.firstName+"&lastName="+e.lastName+"&email="+e.email+"&password="+e.password+"&phone="+e.phone+"&summary="+e.summary,t).then(function(e){console.log(e),window.localStorage.setItem("token",e.data.token),window.location.reload()}).catch(function(e){console.error(e)})}}},{key:"render",value:function(){return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement(R.a,{vertical:!0},l.a.createElement(N.a,{variant:"light"},l.a.createElement("h4",null,"Small Plan"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),l.a.createElement("h4",null,"$0 Per Month")),l.a.createElement(N.a,{variant:"light"},l.a.createElement("h4",null,"Medium Plan"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),l.a.createElement("h4",null,"$199 Per Month")),l.a.createElement(N.a,{variant:"light"},l.a.createElement("h4",null,"Pro Plan"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),l.a.createElement("h4",null,"$399 Per Month"))),l.a.createElement(N.a,{variant:"success",size:"lg",onClick:this.register.bind(this)},"Register")))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={view:"CreateAccount",firstName:"",lastName:"",summary:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.localStorage.getItem("customer")&&w.a.get("/api/pages/search?pageId="+window.localStorage.getItem("pageId")).then(function(t){console.log(t),e.setState({page:t.data.response[0],customer:!0,s3Bucket:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this.state.view,t={state:this.state,setState:this.setState.bind(this)};switch(e){case"CreateAccount":return l.a.createElement(ge,t);case"VerifyAccount":return l.a.createElement(Ee,t);case"ProfileSummary":return l.a.createElement(fe,t);case"SubscriptionPlan":return l.a.createElement(ye,t);default:return null}}}]),t}(n.Component),be=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){console.log(e.target),a.props.setState(Object(z.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"login",value:function(){w.a.post("api/auth/login?email=".concat(this.props.state.email,"&password=").concat(this.props.state.password)).then(function(e){console.log(e),!0===e.data.success?(window.localStorage.setItem("token",e.data.token),window.location.reload()):window.alert("Invalid login information. Please try again")}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"Login"),l.a.createElement(R.a,{style:{width:"100%"}},l.a.createElement(N.a,{variant:"link",active:"user"===this.props.state.role,onClick:function(){return e.props.setState({role:"user"})}},"Content Provider"),l.a.createElement(N.a,{variant:"link",active:"customer"===this.props.state.role,onClick:function(){return e.props.setState({role:"customer"})}},"Customer")),l.a.createElement("br",null),l.a.createElement("h3",{style:{padding:"5% 0"}},"Welcome Back"),l.a.createElement(Y.a,{style:{display:"flex",flex:"initial",margin:"1em auto",width:"70%"}},l.a.createElement(U.a,{placeholder:"Enter Email Address",name:"email",onChange:this.handleChange})),l.a.createElement(Y.a,{style:{display:"flex",flex:"initial",margin:"1em auto",width:"70%"}},l.a.createElement(U.a,{placeholder:"Enter Password",type:"password",name:"password",onChange:this.handleChange})),l.a.createElement(N.a,{variant:"success",size:"lg",onClick:this.login.bind(this)},"Continue")))}}]),t}(n.Component),we=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(z.a)({},e.target.name,e.target.value))},a.state={code:""},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"login",value:function(){var e="";"user"===this.props.state.role&&(e="users"),"customer"===this.props.state.role&&(e="customers"),this.state.code===JSON.stringify(this.props.state.verifyCode)?w.a.post("api/".concat(e,"/login?phone=")+this.props.state.phone).then(function(e){console.log(e),window.localStorage.setItem("token",e.data.token),window.location.reload()}).catch(function(e){console.error(e)}):window.alert("Verification code is invalid. Please try again.")}},{key:"render",value:function(){return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h3",null,"Verify Your Account"),l.a.createElement(Y.a,null,l.a.createElement(U.a,{className:"verificationInput",placeholder:"0000",name:"code",onChange:this.handleChange})),l.a.createElement("p",null,"We sent a 4 digit confirmation code to",l.a.createElement("br",null),this.props.state.phone,l.a.createElement("br",null),"You should get it in a few seconds"),l.a.createElement(N.a,{variant:"success",size:"lg",onClick:this.login.bind(this)},"Continue")))}}]),t}(n.Component),Ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={role:"user",view:"Login"},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.state.view,t={state:this.state,setState:this.setState.bind(this)};switch(e){case"Login":return l.a.createElement(be,t);case"VerifyAccount":return l.a.createElement(we,t);default:return null}}}]),t}(n.Component),ke=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("token");t&&this.setState({decoded:g()(t)},function(){return console.log(e.state.decoded)})}},{key:"render",value:function(){return l.a.createElement(k.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h1",null,"Welcome to Swiply"),l.a.createElement("br",null),l.a.createElement("h5",null,"Congratulations, you're just a few steps away from getting paid for your content."),l.a.createElement("img",{src:a(482),style:{width:"100%",opacity:.6},alt:"Welcome"}),l.a.createElement(E.b,{to:"/pages/add"},l.a.createElement(N.a,{variant:"success",size:"lg"},"Create Your First Page"))))}}]),t}(n.Component),Se=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={decoded:!1,login:!1},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=window.localStorage.getItem("token");e&&this.setState({decoded:g()(e)})}},{key:"render",value:function(){return l.a.createElement(y.StripeProvider,{apiKey:"pk_test_J71dqS8brtNIK1ZYN7LCiJvd00D8Kbx2K8"},l.a.createElement(E.a,null,l.a.createElement("div",{className:"body"},l.a.createElement(le,{decoded:this.state.decoded,login:this.state.login,setState:this.setState.bind(this)}),this.state.decoded?l.a.createElement("div",null,l.a.createElement(f.a,{exact:!0,path:"/",component:ke}),l.a.createElement(f.a,{path:"/dashboard",component:te})):l.a.createElement("div",null,this.state.login?l.a.createElement(f.a,{path:"/",component:Ce}):l.a.createElement(f.a,{exact:!0,path:"/",component:ve})),l.a.createElement(f.c,null,l.a.createElement(f.a,{path:"/customers",component:Q}),l.a.createElement(f.a,{path:"/pages/add",component:ie}),l.a.createElement(f.a,{exact:!0,path:"/pages/:pageId",component:ce}),l.a.createElement(f.a,{exact:!0,path:"/pages/:pageId/add-content",component:D}),l.a.createElement(f.a,{exact:!0,path:"/pages/:pageId/:contentId",component:K}),l.a.createElement(f.a,{exact:!0,path:"/profile/:profile",component:he}),l.a.createElement(f.a,{path:"/profile/edit/:userId",component:de}),l.a.createElement(f.a,{path:"/account/:userId",component:A}),l.a.createElement(f.a,{path:"/purchased",component:T}),l.a.createElement(f.a,{path:"/purchases",component:ee}),l.a.createElement(f.a,{path:"/example",component:ne}),l.a.createElement(y.Elements,null,l.a.createElement(f.a,{exact:!0,path:"/checkout",component:M}))),l.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"}))))}}]),t}(n.Component);d.b.add(p.a,p.b,p.c,p.d,p.e,p.f,p.g,p.h,p.j,p.i,p.k,p.l);var Ne=Se;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[212,1,2]]]);
//# sourceMappingURL=main.a7de2ad1.chunk.js.map