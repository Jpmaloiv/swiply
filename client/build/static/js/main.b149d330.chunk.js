(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(269)},125:function(e,t,a){},137:function(e,t,a){},181:function(e,t,a){e.exports=a.p+"static/media/congrats.eb71f12f.jpg"},202:function(e,t){},258:function(e,t){e.exports="data:image/png;base64,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"},268:function(e,t,a){e.exports=a.p+"static/media/welcome.408a8c1c.png"},269:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(32),r=a.n(i),c=(a(125),a(3)),s=a(4),o=a(6),m=a(5),u=a(7),d=a(49),h=a(26),p=a(17),g=a.n(p),E=a(13),f=a(40),v=a(46),y=(a(137),a(12)),b=a.n(y),w=a(8),C=a.n(w),k=(a(162),a(57)),N=a(9),S=a.n(N),j=a(2),O=a.n(j),A=a(11),x=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.state.user[e.target.name]=e.target.value},a.onImageChange=function(e){var t=e.target.files[0];t&&(a.state.user.imageLink=URL.createObjectURL(t),a.setState({file:t,fileName:t.name,fileType:t.type}))},a.createNotification=function(e){return function(){switch(e){case"success":k.NotificationManager.success("Account updated","",2500);break;case"error":k.NotificationManager.error("Error updating account","",2500)}}},a.state={user:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.fetchUser()}},{key:"fetchUser",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t));var n="";"user"===a.role&&(n="users"),"customer"===a.role&&(n="customers"),this.setState({role:n}),C.a.get("/api/".concat(n,"/search?id=")+a.id).then(function(t){console.log(t),e.setState({user:t.data.response[0],S3_BUCKET:t.data.bucket},e.imageCheck)}).catch(function(e){console.error(e)})}},{key:"imageCheck",value:function(){var e=this.state.user;e.imageLink&&(e.imageLink="https://s3-us-west-1.amazonaws.com/".concat(this.state.S3_BUCKET,"/").concat(e.imageLink),this.setState({render:!this.state.render}))}},{key:"updateUser",value:function(){var e=this,t=this.state.user,a="";"users"===this.state.role&&(a="users"),"customers"===this.state.role&&(a="customers");var n=new FormData;n.append("imgFile",this.state.file),C.a.put("/api/".concat(a,"/update?id=")+this.state.user.id+"&firstName="+t.firstName+"&lastName="+t.lastName+"&title="+t.title+"&phone="+t.phone+"&email="+t.email+"&summary="+t.summary,n).then(function(t){console.log(t),e.success.click(),e.fetchUser()}).catch(function(t){console.error(t),e.error.click()})}},{key:"render",value:function(){var e=this,t=this.state,a=t.role,n=t.user;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:"center",style:{textAlign:"initial"}},l.a.createElement("h2",{style:{textAlign:"center"}},"Account Settings"),l.a.createElement(O.a,{style:{padding:"25px 75px"}},l.a.createElement("div",{className:"profilePic"},n.imageLink?l.a.createElement("div",null,l.a.createElement("img",{src:n.imageLink,style:{width:75,height:75,borderRadius:"50%",objectFit:"cover"},alt:""}),l.a.createElement(A.a,{icon:"user-plus",style:{opacity:.2,position:"absolute"},onClick:function(){e.upload.click()}})):l.a.createElement(A.a,{icon:"user-plus",size:"2x",color:"white",style:{opacity:.8},onClick:function(){e.upload.click()}})),n.imageLink?l.a.createElement("span",null):l.a.createElement("p",{style:{fontSize:12,textAlign:"center",marginTop:".5rem"}},"Add Profile Image"),l.a.createElement(O.a.Group,null,l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Label,null,"First Name"),l.a.createElement(O.a.Control,{placeholder:n.firstName,name:"firstName",onChange:this.handleChange})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Label,null,"Last Name"),l.a.createElement(O.a.Control,{placeholder:n.lastName,name:"lastName",onChange:this.handleChange})),"user"===a?l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Label,null,"Title"),l.a.createElement(O.a.Control,{placeholder:n.title,name:"title",onChange:this.handleChange})):l.a.createElement("span",null),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Label,null,"Phone"),l.a.createElement(O.a.Control,{placeholder:n.phone,name:"phone",onChange:this.handleChange})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Label,null,"Email"),l.a.createElement(O.a.Control,{placeholder:n.email,name:"email",onChange:this.handleChange})),"user"===a?l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Label,null,"Profile Summary"),l.a.createElement(O.a.Control,{as:"textarea",placeholder:n.summary,name:"summary",onChange:this.handleChange})):l.a.createElement("span",null))),l.a.createElement(S.a,{variant:"success",size:"lg",style:{display:"block"},onClick:this.updateUser.bind(this)},"Update Account")),l.a.createElement("button",{className:"btn btn-success",onClick:this.createNotification("success"),ref:function(t){return e.success=t},style:{display:"none"}},"Success"),l.a.createElement("button",{className:"btn btn-danger",onClick:this.createNotification("error"),ref:function(t){return e.error=t},style:{display:"none"}},"Error"),l.a.createElement(k.NotificationContainer,null))}}]),t}(n.Component),P=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={page:"",errorMessage:""},a.handleChange=function(e){var t=e.error;t&&a.setState({errorMessage:t.message})},a.handleSubmit=function(e){e.preventDefault(),a.props.stripe.createSource({type:"card",owner:{name:"Jenny Rosen"},amount:100*Number(a.state.price)}).then(function(e){var t=e.source;console.log("Source:",t),C.a.post("api/auth/page?customerId=".concat(a.state.decoded.id,"&pageId=").concat(window.localStorage.getItem("pageId"),", data")).then(function(e){console.log(e),window.location="/purchased"}).catch(function(e){console.error(e)})}).catch(function(e){console.log(e)})},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token");t&&this.setState({decoded:g()(t)}),console.log(t),console.log(window.localStorage.getItem("customer"),"COMMENT!"),window.localStorage.getItem("customer")&&C.a.get("/api/pages/search?pageId="+window.localStorage.getItem("pageId")).then(function(t){console.log(t,"TESTER1"),e.setState({price:t.data.response[0].price,page:t.data.response[0],customer:!0,s3Bucket:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this.state.page;return l.a.createElement("div",{className:"center"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",{style:{width:250}},"Card details",l.a.createElement(v.CardElement,Object.assign({onChange:this.handleChange},{style:{base:{fontSize:"16px",color:"#424770",fontFamily:"Open Sans, sans-serif",letterSpacing:"0.025em","::placeholder":{color:"#aab7c4"}},invalid:{color:"#c23d4b"}}}))),l.a.createElement("div",{className:"error",role:"alert"},this.state.errorMessage),l.a.createElement("button",{onClick:this.handleSubmit},"Confirm order")),this.state.customer?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("div",{className:"page",style:{display:"flex",flex:"initial",margin:"1em auto"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.s3Bucket,"/").concat(e.imageLink),style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%",textAlign:"left"}},l.a.createElement("h4",null,e.name),l.a.createElement("p",null,e.description)),l.a.createElement("div",null,"$",e.price))):l.a.createElement("span",null))}}]),t}(n.Component),I=Object(v.injectStripe)(P),M=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h1",null,"Congratulations"),l.a.createElement("br",null),l.a.createElement("h5",null,"You now have access to the page ",l.a.createElement("br",null),l.a.createElement("b",null,window.localStorage.getItem("page"))),l.a.createElement("img",{src:a(181),style:{width:"100%",opacity:.6},alt:"Welcome"}),l.a.createElement(E.b,{to:"/pages/".concat(window.localStorage.getItem("pageId"))},l.a.createElement(S.a,{variant:"success",size:"lg"},"Go to Page"))))}}]),t}(n.Component),L=a(22),T=a(44),R=a.n(T),W=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.onFileChange=function(e){console.log(e.target.files[0]),a.setState({file:e.target.files[0],fileName:e.target.files[0].name})},a.state={content:"video",video:"",url:"",name:"Page Name",description:"Add short description...",summary:"Page Summary"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=window.localStorage.getItem("token");e&&this.setState({decoded:g()(e)})}},{key:"addContent",value:function(){var e=this,t=this.state.url.replace("https://www.youtube.com/watch?v=","").replace("https://youtu.be/",""),a=new FormData;a.append("imgFile",this.state.file),console.log(this.state.decoded),C.a.post("/api/content/add?name="+this.state.name+"&description="+this.state.description+"&link="+t+"&type="+this.state.content+"&userName="+this.state.decoded.name+"&pageId="+this.props.match.params.pageId,a).then(function(t){console.log(t),window.location="/pages/".concat(e.props.match.params.pageId)}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state.content;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"Add Content"),l.a.createElement(R.a,{style:{width:"100%"}},l.a.createElement(S.a,{variant:"link",active:"video"===t,onClick:function(){return e.setState({content:"video"})}},"Add Video"),l.a.createElement(S.a,{variant:"link",active:"file"===t,onClick:function(){return e.setState({content:"file"})}},"Add File")),"video"===t?l.a.createElement("div",null,l.a.createElement("h2",null,"Add Video"),l.a.createElement("h5",null,"Plese link an online video and add a description for your content.")):l.a.createElement("div",null,l.a.createElement("h2",null,"Add File"),l.a.createElement("h5",null,"Plese upload a file and add a description for your content.")),l.a.createElement("br",null),l.a.createElement(O.a,{style:{padding:0,margin:"0 75px"}},l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Control,{placeholder:"video"===t?"Video Name":"File Name",name:"name",onChange:this.handleChange})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Control,{as:"textarea",placeholder:"Add short description...",name:"description",onChange:this.handleChange})),"video"===t?l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Control,{placeholder:"Add URL",name:"url",onChange:this.handleChange})):l.a.createElement("div",{style:{display:"flex",height:90,alignItems:"center",justifyContent:"center",border:"1px dashed #D8D8D7"}},l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onFileChange,style:{display:"none"}}),this.state.fileName?l.a.createElement("div",null,l.a.createElement(S.a,{variant:"success",size:"lg",className:"circle",onClick:function(){e.upload.click()}},l.a.createElement(A.a,{icon:"check"})),this.state.fileName):l.a.createElement("div",null,l.a.createElement(S.a,{variant:"success",size:"lg",className:"circle",onClick:function(){e.upload.click()}},l.a.createElement(A.a,{icon:"plus"})),l.a.createElement("h6",null,"Add Content"))),l.a.createElement(S.a,{variant:"success",onClick:this.addContent.bind(this)},"Next")))))}}]),t}(n.Component),z=a(14),G=a.n(z),B=a(15),F=a.n(B),U=a(115),D=a.n(U),X=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={content:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token");t&&this.setState({decoded:g()(t)}),C.a.get("/api/content/search?id="+this.props.match.params.contentId).then(function(t){console.log(t),e.setState({content:t.data.response[0],EMBEDLY_API_KEY:t.data.EMBEDLY_API_KEY},e.embed)}).catch(function(e){console.error(e)})}},{key:"embed",value:function(){var e=this;C.a.get("https://api.embedly.com/1/oembed?key=".concat(this.state.EMBEDLY_API_KEY,"&url=https://www.youtube.com/watch?v=").concat(this.state.content.link)).then(function(t){console.log(t),e.setState({embed:t.data.html})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"main"},l.a.createElement("div",{style:{textAlign:"center",margin:25}},D()(this.state.embed)),l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("h4",null,this.state.content.name),l.a.createElement("h5",{style:{display:"flex"}},"Content Summary"),this.state.summaryEdit?l.a.createElement(F.a,null,l.a.createElement(G.a,{as:"textarea",style:{width:"initial"},placeholder:this.state.content.description,name:"summary",onChange:this.handleChange,onBlur:this.handleEditing})):l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("p",null,this.state.content.description)))))}}]),t}(n.Component),V=a(38),Y=a(34),J=a.n(Y),q=a(55),H=a.n(q),K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={stats:[],pages:[],customers:[],customerName:""},a.searchQuery=a.searchQuery.bind(Object(V.a)(Object(V.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t)),C.a.get("api/customers/search?userId="+a.name).then(function(t){console.log(t),e.setState({customers:t.data.response,S3_BUCKET:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"enterPressed",value:function(e){13===(e.keyCode||e.which)&&this.searchQuery()}},{key:"searchQuery",value:function(){var e=this,t="";this.state.customerName&&(t=this.state.customerName);var a=window.localStorage.getItem("token");C.a.get("api/customers/search?customername="+t,{headers:{Authorization:"Bearer "+a}}).then(function(t){console.log(t.data.response),e.setState({patients:t.data.response},function(){return console.log(e.state.customers)})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{style:{backgroundColor:"#f9fafc",borderTop:"1px solid #ebecef"}},l.a.createElement("div",{className:"main"},l.a.createElement("div",{style:{display:"flex",flexDirection:"column",flex:1,justifyContent:"center",margin:"20px auto"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",flex:.2,justifyContent:"center"}},l.a.createElement(F.a,{style:{flex:.2}},l.a.createElement(G.a,{style:{width:"initial"},label:"Search By Name",placeholder:"First or Last Name...",onChange:function(t){e.setState({customerName:t.target.value})}}),l.a.createElement(A.a,{icon:"search",style:{opacity:.2},onClick:this.searchQuery}))),l.a.createElement("div",{style:{display:"flex",flex:.2,justifyContent:"center"}},l.a.createElement("button",{search:!0,icon:"search",title:"SEARCH",onClick:this.searchQuery}," ","Search"," "))),l.a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"center",margin:"20px auto"}},l.a.createElement("div",null,l.a.createElement(H.a,{title:"Recent Customers"},l.a.createElement(J.a.Item,{href:"#/action-1"},"Recent Customers"),l.a.createElement(J.a.Item,{href:"#/action-2"},"Pages Purchased"),l.a.createElement(J.a.Item,{href:"#/action-3"},"Highest Value"),l.a.createElement(J.a.Item,{href:"#/action-4"},"Sort Criteria")))),l.a.createElement("div",{style:{display:"flex",flex:1,justifyContent:"center"}},l.a.createElement("div",{style:{display:"flex",flexDirection:"column"}},this.state.customers.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page",style:{display:"flex"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14}},t.firstName," ",t.lastName),l.a.createElement("p",{style:{alignItems:"left"}},l.a.createElement("span",{style:{fontSize:14}},"Status: "),l.a.createElement("span",{style:{fontSize:14,color:"green"}},"Paid")))))}))))))}}]),t}(n.Component),Q=a(33),Z=a.n(Q),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={pages:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t)),C.a.get("/api/customers/search?id=".concat(a.id)).then(function(t){console.log(t),e.setState({pages:t.data.response[0].pages,s3Bucket:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"main"},l.a.createElement("h2",{style:{textAlign:"center"}},"My Purchases"),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},this.state.pages.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page",style:{display:"flex"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.s3Bucket,"/").concat(t.imageLink),style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14,color:"#a4A5A8"}},"Published: ",l.a.createElement(Z.a,{format:"M.DD.YYYY",date:t.createdAt})),l.a.createElement("p",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,"$",Math.floor(9999*Math.random()).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("span",null,"5.5k Followers"),l.a.createElement("span",null,"+98%")))))}))))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={stats:[],pages:[]},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t)),C.a.get("api/pages/search?userId="+a.id).then(function(t){console.log(t),e.setState({pages:t.data.response,S3_BUCKET:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"main"},l.a.createElement("div",{className:"statistics"},l.a.createElement("div",{style:{backgroundColor:"#01ae63"}},l.a.createElement(A.a,{icon:"dollar-sign"}),l.a.createElement("div",null,"$",Math.floor(99*Math.random()),"k"),l.a.createElement("div",null,"Recent Earnings (+50)")),l.a.createElement("div",{style:{backgroundColor:"#e0ab01"}},l.a.createElement(A.a,{icon:"eye"}),l.a.createElement("div",null,Math.floor(250*Math.random())/10,"m"),l.a.createElement("div",null,"Recent View (+32)")),l.a.createElement("div",{style:{backgroundColor:"#0650df"}},l.a.createElement(A.a,{icon:"user-plus"}),l.a.createElement("div",null,Math.floor(19999*Math.random()).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("div",null,"New Followers (+90)")),l.a.createElement("div",{style:{backgroundColor:"#3808aa"}},l.a.createElement(A.a,{icon:"signal"}),l.a.createElement("div",null,Math.floor(9999*Math.random())/100,"%"),l.a.createElement("div",null,"Percentages (+20)")))),l.a.createElement("div",{style:{backgroundColor:"#f9fafc",borderTop:"1px solid #ebecef"}},l.a.createElement("div",{className:"main"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",margin:"20px auto"}},l.a.createElement("div",null,l.a.createElement(H.a,{title:"Popular Pages"},l.a.createElement(J.a.Item,{href:"#/action-1"},"Date Published"),l.a.createElement(J.a.Item,{href:"#/action-2"},"Highest Rated"),l.a.createElement(J.a.Item,{href:"#/action-3"},"Most Content"))),l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("h5",{style:{margin:0}},"Add Page"),l.a.createElement(E.b,{to:"/pages/add"},l.a.createElement(S.a,{variant:"success",size:"lg",className:"circle"},l.a.createElement(A.a,{icon:"plus"}))))),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},this.state.pages.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page",style:{display:"flex"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14,color:"#a4A5A8"}},"Published: ",l.a.createElement(Z.a,{format:"M.DD.YYYY",date:t.createdAt})),l.a.createElement("p",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,"$",Math.floor(9999*Math.random()).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("span",null,"5.5k Followers"),l.a.createElement("span",null,"+98%")))))})))))}}]),t}(n.Component),ee=a(56),te=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(ee.slide,null,l.a.createElement("a",{id:"home",className:"menu-item",href:"/"},"Home"),l.a.createElement("a",{id:"about",className:"menu-item",href:"/about"},"About"),l.a.createElement("a",{id:"contact",className:"menu-item",href:"/contact"},"Contact"),l.a.createElement("a",{onClick:this.showSettings,className:"menu-item--small",href:""},"Settings"))}}]),t}(l.a.Component),ae=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"logout",value:function(){window.confirm("Would you like to log out of PV3?")&&(window.localStorage.removeItem("token"),window.location="/")}},{key:"render",value:function(){var e=this,t=this.props.decoded.role;return console.log(this.props.decoded),l.a.createElement("header",null,l.a.createElement("div",null,l.a.createElement(E.b,{to:"/"},l.a.createElement("img",{src:a(258),style:{width:150},alt:"PV3"}))),this.props.decoded?l.a.createElement("div",null,l.a.createElement("div",{className:"navigation"},"user"===t?l.a.createElement("div",{style:{display:"inherit"}},l.a.createElement(E.b,{to:"/dashboard"},"Dashboard"),l.a.createElement(E.b,{to:"/sales"},"Sales"),l.a.createElement(E.b,{to:"/customers"},"Customers"),l.a.createElement(E.b,{to:"/profile/edit/".concat(this.props.decoded.id)},"Public Profile")):l.a.createElement("span",null),l.a.createElement(E.b,{to:"/account/".concat(this.props.decoded.id)},l.a.createElement(A.a,{icon:"user"}),"My Account"),"customer"===t?l.a.createElement("div",{style:{display:"inherit"}},l.a.createElement(E.b,{to:"/purchases"},"My Purchases"),l.a.createElement(E.b,{to:"contact-us"},"Contact Us")):l.a.createElement("span",null),l.a.createElement(E.b,{to:"/",onClick:this.logout},l.a.createElement(A.a,{icon:"sign-out-alt"}),"Sign out")),l.a.createElement(ee.slide,{className:"nav-mobile",right:!0},l.a.createElement("a",{id:"dashboard",className:"menu-item",href:"/dashboard"},"Dashboard"),l.a.createElement("a",{id:"sales",className:"menu-item",href:"/sales"},"Sales"),l.a.createElement("a",{id:"customers",className:"menu-item",href:"/customers"},"Customers"),l.a.createElement("a",{id:"dashboard",className:"menu-item",href:"/profile/edit/".concat(this.props.decoded.id)},"Public Profile"),l.a.createElement("a",{id:"dashboard",className:"menu-item",href:"/account/".concat(this.props.decoded.id)},"My Account"),l.a.createElement(E.b,{to:"/",onClick:this.logout},l.a.createElement(A.a,{icon:"sign-out-alt"}),"Sign out"))):l.a.createElement("div",null,this.props.login?l.a.createElement("div",{className:"link",onClick:function(){return e.props.setState({login:!1})}},"Register"):l.a.createElement("div",{className:"link",onClick:function(){return e.props.setState({login:!0})}},"Sign In")))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.handleEditing=function(e){var t=e.currentTarget.getAttribute("name")+"Edit";a.setState(Object(L.a)({},t,!a.state[t]))},a.onImageChange=function(e){var t=e.target.files[0];a.setState({image:URL.createObjectURL(t),file:t,fileName:t.name,fileType:t.type})},a.state={image:"",name:"Page Name",description:"Short Description",summary:"Page Summary"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=window.localStorage.getItem("token");e&&this.setState({decoded:g()(e)})}},{key:"addPage",value:function(){var e=this.state,t=e.file,a=t.name.split("."),n=a[0],l=a[1];console.log("Preparing the upload",t);var i=new FormData;i.append("imgFile",t),C.a.post("/api/pages/add?userId="+e.decoded.id+"&name="+e.name+"&description="+e.description+"&summary="+e.summary+"&fileName="+n+"&fileType="+l,i).then(function(e){console.log(e),window.location="/dashboard"}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:""===this.state.image?"imageBanner":"imageBanner set"},l.a.createElement("form",{action:"/add",method:"post",enctype:"multipart/form-data",style:{padding:0}},l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}})),l.a.createElement("img",{src:this.state.image,style:{width:"100%",opacity:.2},alt:""}),l.a.createElement("div",{className:"textOverlay"},this.state.image?l.a.createElement("span",null):l.a.createElement(A.a,{icon:"plus",size:"6x",style:{opacity:.2},onClick:function(){e.upload.click()}}),this.state.nameEdit?l.a.createElement(F.a,null,l.a.createElement(G.a,{style:{width:"initial"},placeholder:this.state.name,name:"name",onChange:this.handleChange,onBlur:this.handleEditing})):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("h3",null,this.state.name),l.a.createElement(A.a,{icon:"pen",name:"name",onClick:this.handleEditing})),this.state.descriptionEdit?l.a.createElement(G.a,{style:{width:"initial"},placeholder:this.state.description,name:"description",onChange:this.handleChange,onBlur:this.handleEditing}):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("p",null,this.state.description),l.a.createElement(A.a,{icon:"pen",name:"description",onClick:this.handleEditing})))),l.a.createElement("div",{className:"main"},l.a.createElement("div",null,this.state.summaryEdit?l.a.createElement(F.a,null,l.a.createElement(G.a,{as:"textarea",style:{width:"initial"},placeholder:this.state.summary,name:"summary",onChange:this.handleChange,onBlur:this.handleEditing})):l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("h4",null,this.state.summary),l.a.createElement(A.a,{icon:"pen",name:"summary",onClick:this.handleEditing}))),l.a.createElement(S.a,{variant:"success",size:"lg",style:{display:"block"},onClick:this.addPage.bind(this)},"+ Add Page"))))}}]),t}(n.Component),le=a(118),ie=a.n(le),re=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.state.page[e.target.name]=e.target.value},a.handleEditing=function(e){var t=e.currentTarget.getAttribute("name")+"Edit";a.setState(Object(L.a)({},t,!a.state[t]))},a.handlePublish=function(e){var t=e.target.value,n=a.state.page;C.a.put("/api/pages/update?id="+n.id+"&published="+t).then(function(e){console.log(e),window.location.reload()}).catch(function(e){console.error(e)})},a.state={image:"",name:"Page Name",description:"Short Description",summary:"Page Summary",page:{User:{},Contents:[]},edit:!1,priceEdit:!1,viewAccess:!1,checked:!1},a.handleSwitch=a.handleSwitch.bind(Object(V.a)(Object(V.a)(a))),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;window.localStorage.removeItem("customer"),window.localStorage.removeItem("pageId"),window.localStorage.removeItem("page");var t=window.localStorage.getItem("token");t&&this.setState({decoded:g()(t)}),C.a.get("/api/pages/search?pageId="+this.props.match.params.pageId).then(function(t){console.log(t),e.setState({page:t.data.response[0],image:"https://s3-us-west-1.amazonaws.com/".concat(t.data.bucket,"/").concat(t.data.response[0].imageLink),s3Bucket:t.data.bucket},e.checkPermissions)}).catch(function(e){console.error(e)})}},{key:"componentDidMount",value:function(){C.a.put("/api/pages/update?id=".concat(this.props.match.params.pageId,"&view=",!0)).then(function(e){console.log(e)}).catch(function(e){console.error(e)})}},{key:"checkPermissions",value:function(){var e=this;"customer"===this.state.decoded.role&&C.a.get("/api/customers/search?id=".concat(this.state.decoded.id)).then(function(t){console.log(t);for(var a=t.data.response[0],n=[],l=0;l<a.pages.length;l++)n.push(a.pages[l].id);n.includes(e.state.page.id)&&e.setState({viewAccess:!0})}).catch(function(e){console.error(e)}),this.state.decoded&&this.state.decoded.id===this.state.page.UserId&&this.setState({edit:!0})}},{key:"handleSwitch",value:function(e){this.setState({checked:e})}},{key:"updatePage",value:function(){var e=this.state.page;C.a.put("/api/pages/update?id="+e.id+"&name="+e.name+"&description="+e.description+"&summary="+e.summary+"&price="+e.price).then(function(e){console.log(e),window.location.reload()}).catch(function(e){console.error(e)})}},{key:"customerSignup",value:function(){window.localStorage.setItem("customer",!0),window.localStorage.setItem("pageId",this.state.page.id),window.localStorage.setItem("page",this.state.page.name),window.location="/"}},{key:"render",value:function(){var e=this,t=this.state,a=t.edit,n=t.page,i=n.User;return console.log(a),l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:"imageBanner set"},l.a.createElement("input",{type:"file",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}}),l.a.createElement("img",{src:this.state.image,style:{width:"100%",opacity:.3},alt:""}),a?l.a.createElement("div",{style:{position:"absolute",top:10,right:25}},n.published?l.a.createElement(S.a,{variant:"dark",size:"sm",value:!1,onClick:this.handlePublish.bind(this),style:{width:"initial"}},"Unpublish"):l.a.createElement(S.a,{variant:"dark",size:"sm",value:!0,onClick:this.handlePublish.bind(this),style:{width:"initial"}},"Publish")):l.a.createElement("span",null),l.a.createElement("div",{className:"textOverlay"},this.state.image?l.a.createElement("span",null):l.a.createElement(A.a,{icon:"plus",size:"6x",style:{opacity:.1},onClick:function(){e.upload.click()}}),this.state.nameEdit?l.a.createElement(F.a,null,l.a.createElement(G.a,{style:{width:"initial"},placeholder:this.state.name,name:"name",onChange:this.handleChange,onBlur:this.handleEditing})):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("h3",null,n.name),a?l.a.createElement(A.a,{icon:"pen",name:"name",onClick:this.handleEditing}):l.a.createElement("span",null)),this.state.descriptionEdit?l.a.createElement(G.a,{style:{width:"initial"},placeholder:this.state.description,name:"description",onChange:this.handleChange,onBlur:this.handleEditing}):l.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},l.a.createElement("p",null,n.description),a?l.a.createElement(A.a,{icon:"pen",name:"description",onClick:this.handleEditing}):l.a.createElement("span",null)),this.state.viewAccess?l.a.createElement("span",null):l.a.createElement(S.a,{variant:"success",size:"lg",onClick:a?null:this.state.decoded?function(){return window.location="/checkout"}:function(){return e.customerSignup()}},a?l.a.createElement("div",null,this.state.priceEdit?l.a.createElement(G.a,{style:{width:"initial"},placeholder:"Amount or 'Free'",name:"price",onChange:this.handleChange,onBlur:this.handleEditing}):l.a.createElement("div",null,"Set Pricing $",n.price?n.price:"--","\xa0",a?l.a.createElement(A.a,{icon:"pen",name:"price",onClick:this.handleEditing}):l.a.createElement("span",null))):l.a.createElement("span",null,"Request Page Access $",n.price)))),l.a.createElement("div",{className:"main"},l.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},this.state.checked?l.a.createElement("div",{style:{display:"flex",marginBottom:10}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.s3Bucket,"/").concat(i.imageLink),style:{width:75,height:75,marginRight:10,borderRadius:"50%",objectFit:"cover"},alt:""}),l.a.createElement("div",null,l.a.createElement("h5",null,i.firstName," ",i.lastName),l.a.createElement("p",null,l.a.createElement("i",null,i.title)))):l.a.createElement("span",null),a?l.a.createElement("label",{style:{display:"flex"}},l.a.createElement("span",{style:{marginRight:10}},"Display Profile"),l.a.createElement(ie.a,{onChange:this.handleSwitch,checked:this.state.checked,checkedIcon:!1,uncheckedIcon:!1})):l.a.createElement("span",null)),this.state.checked?l.a.createElement("p",null,i.summary):l.a.createElement("span",null),a?l.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",marginBottom:35}},l.a.createElement("h5",{style:{margin:0}},"Add Content"),l.a.createElement(E.b,{to:"/pages/".concat(this.props.match.params.pageId,"/add-content")},l.a.createElement(S.a,{variant:"success",size:"lg",className:"circle"},l.a.createElement(A.a,{icon:"plus"})))):l.a.createElement("span",null),l.a.createElement("div",null,this.state.summaryEdit?l.a.createElement(F.a,null,l.a.createElement(G.a,{as:"textarea",style:{width:"initial"},placeholder:this.state.summary,name:"summary",onChange:this.handleChange,onBlur:this.handleEditing})):l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("p",null,n.summary),a?l.a.createElement(A.a,{icon:"pen",name:"summary",onClick:this.handleEditing}):l.a.createElement("span",null))),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},this.state.page.Contents.map(function(t,a){return l.a.createElement(E.b,{to:e.state.viewAccess||e.state.edit?"video"===t.type?"/pages/".concat(e.props.match.params.pageId,"/").concat(t.id):"https://s3-us-west-1.amazonaws.com/".concat(e.state.S3_BUCKET,"/").concat(t.link):l.a.createElement("span",null),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page",style:{display:"flex"}},"video"===t.type?l.a.createElement("img",{src:"https://img.youtube.com/vi/".concat(t.link,"/0.jpg"),style:{width:75,objectFit:"cover",marginRight:20}}):l.a.createElement(A.a,{icon:"file",size:"4x",style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14,color:"#a4A5A8"}},"Published: ",l.a.createElement(Z.a,{format:"M.DD.YYYY",date:t.createdAt})),l.a.createElement("p",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,"$",Math.floor(9999*Math.random()).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")),l.a.createElement("span",null,"5.5k Followers"),l.a.createElement("span",null,"+98%")))))})),a?l.a.createElement(S.a,{variant:"success",size:"lg",style:{display:"block"},onClick:this.updatePage.bind(this)},"Update Page"):l.a.createElement("span",null))))}}]),t}(n.Component),ce=a(119),se=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.state.user[e.target.name]=e.target.value},a.state={image:"",user:{firstName:"",lastName:"",Pages:[],profile:"",instagram:"",facebook:"",twitter:"",linkedin:"",whatsapp:"",website:""},copied:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=window.localStorage.getItem("token"),a="";t&&(a=g()(t)),C.a.get("/api/users/search?id="+a.id).then(function(t){console.log(t),e.setState({user:t.data.response[0],S3_BUCKET:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"updateUser",value:function(){var e=this.state.user;console.log(e),C.a.put("/api/users/update?id="+e.id+"&profile="+e.profile+"&instagram="+e.instagram+"&facebook="+e.facebook+"&twitter="+e.twitter+"&linkedin="+e.linkedin+"&whatsapp="+e.whatsapp+"&website="+e.website).then(function(e){console.log(e),window.location.reload()}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state.user;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("div",{style:{flex:1}},l.a.createElement("div",{className:"center",style:{textAlign:"left"}},l.a.createElement("h5",{style:{textAlign:"center"}},"My PV3 Link"),l.a.createElement(F.a,null,l.a.createElement(F.a.Prepend,null,l.a.createElement(F.a.Text,null,"http://swiply.herokuapp.com/profile/")),l.a.createElement(G.a,{placeholder:t.profile||t.id,style:{borderRadius:0},name:"profile",onChange:this.handleChange}),l.a.createElement(ce.CopyToClipboard,{text:"http://swiply.herokuapp.com/profile/".concat(t.profile||t.id),onCopy:function(){return e.setState({copied:!0})},style:{cursor:"pointer"}},l.a.createElement(F.a.Append,null,l.a.createElement(F.a.Text,{style:{background:"#01ae63",color:"#fff",borderRadius:30,borderTopLeftRadius:0,borderBottomLeftRadius:0}},"Copy")))),l.a.createElement("br",null),l.a.createElement("h3",null,"Connect Your Social Media"),l.a.createElement("p",null,"Add links to your social media accounts below:"),l.a.createElement("label",null,"Instagram"),l.a.createElement(F.a,null,l.a.createElement(G.a,{placeholder:t.instagram,name:"instagram",onChange:this.handleChange})),l.a.createElement("label",null,"Facebook"),l.a.createElement(F.a,null,l.a.createElement(G.a,{placeholder:t.facebook,name:"facebook",onChange:this.handleChange})),l.a.createElement("label",null,"Twitter"),l.a.createElement(F.a,null,l.a.createElement(G.a,{placeholder:t.twitter,name:"twitter",onChange:this.handleChange})),l.a.createElement("label",null,"Linkedin"),l.a.createElement(F.a,null,l.a.createElement(G.a,{placeholder:t.linkedin,name:"linkedin",onChange:this.handleChange})),l.a.createElement("label",null,"WhatsApp"),l.a.createElement(F.a,null,l.a.createElement(G.a,{placeholder:t.whatsapp,name:"whatsapp",onChange:this.handleChange})),l.a.createElement("label",null,"Website (URL)"),l.a.createElement(F.a,null,l.a.createElement(G.a,{placeholder:t.website,name:"website",onChange:this.handleChange})),l.a.createElement("label",null,"Email Address"),l.a.createElement(F.a,null,l.a.createElement(G.a,{placeholder:t.email,name:"email",onChange:this.handleChange}))),l.a.createElement(S.a,{variant:"success",size:"lg",style:{display:"block"},onClick:this.updateUser.bind(this)},"Update Info")),l.a.createElement("div",{className:"editProfile",style:{flex:1.5}},l.a.createElement("div",{className:"center"},l.a.createElement("div",{className:"smartphone",style:{overflow:"scroll",boxShadow:"-5px 10px 35px 1px #333"}},l.a.createElement("div",{className:"content"},l.a.createElement("div",{id:"background",className:"imageBanner set",style:{height:335}},l.a.createElement("img",{src:t.Pages.length>0?"https://s3-us-west-1.amazonaws.com/".concat(this.state.S3_BUCKET,"/").concat(t.imageLink):"",style:{width:"100%",height:"100%",opacity:.3,filter:"blur(8px)",objectFit:"cover"},alt:""}),l.a.createElement("div",{className:"textOverlay"},l.a.createElement("div",{className:"profilePic"},t.imageLink?l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:75,height:75,borderRadius:"50%",objectFit:"cover"},alt:""}):l.a.createElement(A.a,{icon:"user-plus",size:"2x",color:"white",style:{opacity:.8,cursor:"initial"}})),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h3",null,t.firstName+" "+t.lastName),l.a.createElement("p",null,t.title)))),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",margin:"15px 10px"}},this.state.user.Pages.length>0?l.a.createElement("h6",{style:{textAlign:"left"}},"Pages"):l.a.createElement("h6",{style:{margin:"0 auto"}},"No pages yet!"),this.state.user.Pages.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial",width:"100%"},key:a},l.a.createElement("div",{className:"page",style:{display:"flex",width:"initial",margin:"5px 0"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%",textAlign:"left"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14,color:"#a4A5A8"}},"Published: ",l.a.createElement(Z.a,{format:"M.DD.YYYY",date:t.createdAt})),l.a.createElement("p",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,"$38,250"),l.a.createElement("span",null,"5.5k Followers"),l.a.createElement("span",null,"+98%")))))}))))))))}}]),t}(n.Component),oe=a(48),me=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.state.page[e.target.name]=e.target.value},a.handleEditing=function(e){var t=e.currentTarget.getAttribute("name")+"Edit";a.setState(Object(L.a)({},t,!a.state[t]))},a.state={image:"",name:"Page Name",description:"Short Description",summary:"Page Summary",user:{firstName:"",lastName:"",Pages:[]}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=this;C.a.get("/api/users/search?profile="+this.props.match.params.profile).then(function(t){console.log(t),e.setState({user:t.data.response[0],background:"https://s3-us-west-1.amazonaws.com/".concat(t.data.bucket,"/").concat(t.data.response[0].Pages[0].imageLink)||!1,S3_BUCKET:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this,t=this.state.user;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",null,l.a.createElement("div",{className:"imageBanner set"},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:"100%",filter:"blur(10px)",opacity:.3},alt:""}),l.a.createElement("div",{className:"textOverlay"},l.a.createElement("div",{className:"profilePic"},t.imageLink?l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:75,height:75,borderRadius:"50%",objectFit:"cover"},alt:""}):l.a.createElement(A.a,{icon:"user-plus",size:"2x",color:"white",style:{opacity:.8,cursor:"initial"}})),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("h3",null,t.firstName+" "+t.lastName),l.a.createElement("p",null,t.title)),l.a.createElement("div",{className:"social"},t.facebook?l.a.createElement(oe.SocialIcon,{url:t.facebook}):l.a.createElement("span",null),t.twitter?l.a.createElement(oe.SocialIcon,{url:t.twitter}):l.a.createElement("span",null),t.linkedin?l.a.createElement(oe.SocialIcon,{url:t.linkedin}):l.a.createElement("span",null),t.whatsapp?l.a.createElement(oe.SocialIcon,{url:t.whatsapp}):l.a.createElement("span",null),t.website?l.a.createElement(oe.SocialIcon,{url:t.website}):l.a.createElement("span",null))))),l.a.createElement("div",{className:"main"},l.a.createElement("div",null,l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("p",null,t.summary)),l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},this.state.user.Pages.map(function(t,a){return l.a.createElement(E.b,{to:"/pages/".concat(t.id),style:{color:"initial"}},l.a.createElement("div",{key:a,className:"page",style:{display:"flex"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(e.state.S3_BUCKET,"/").concat(t.imageLink),style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%"}},l.a.createElement("p",null,t.name),l.a.createElement("p",{style:{fontSize:14,color:"#a4A5A8"}},"Published: ",l.a.createElement(Z.a,{format:"M.DD.YYYY",date:t.createdAt})),l.a.createElement("p",{style:{display:"flex",justifyContent:"space-between"}},l.a.createElement("span",null,"$38,250"),l.a.createElement("span",null,"5.5k Followers"),l.a.createElement("span",null,"+98%")))))})))))}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.props.setState(Object(L.a)({},e.target.name,e.target.value))},a.onImageChange=function(e){var t=e.target.files[0];t&&a.props.setState({image:URL.createObjectURL(t),file:t,fileName:t.name,fileType:t.type})},a.state={page:""},window.performance&&1==performance.navigation.type&&window.localStorage.clear(),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"verifyPhone",value:function(){var e=this;C.a.post("api/auth/send?phone="+this.props.state.phone).then(function(t){console.log(t),e.props.setState({verifyCode:t.data.verifyCode,view:"VerifyAccount"})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;console.log(this.props);var t=this.props.state.page;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"Create Account"),l.a.createElement("br",null),l.a.createElement(O.a,{className:"login"},l.a.createElement(O.a.Group,null,l.a.createElement("input",{type:"file",name:"imgFile",ref:function(t){return e.upload=t},onChange:this.onImageChange,style:{display:"none"}}),l.a.createElement("div",{className:"profilePic"},this.props.state.image?l.a.createElement("div",null,l.a.createElement("img",{src:this.props.state.image,style:{width:75,height:75,borderRadius:"50%",objectFit:"cover"},alt:""}),l.a.createElement(A.a,{icon:"user-plus",style:{opacity:.2,position:"absolute"},onClick:function(){e.upload.click()}})):l.a.createElement(A.a,{icon:"user-plus",size:"2x",color:"white",style:{opacity:.8},onClick:function(){e.upload.click()}})),this.props.state.image?l.a.createElement("span",null):l.a.createElement("p",{style:{fontSize:12,marginTop:".5rem"}},"Add Profile Image")),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Control,{placeholder:"First Name",name:"firstName",onChange:this.handleChange})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Control,{placeholder:"Last Name",name:"lastName",onChange:this.handleChange})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Control,{placeholder:"Email Address",name:"email",onChange:this.handleChange})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Control,{placeholder:"Phone Number",name:"phone",onChange:this.handleChange})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Check,{type:"checkbox",label:"Remember me"}))),this.props.state.customer?l.a.createElement("div",{style:{textAlign:"center"}},l.a.createElement("div",{className:"page",style:{display:"flex",flex:"initial",margin:"1em auto"}},l.a.createElement("img",{src:"https://s3-us-west-1.amazonaws.com/".concat(this.props.state.s3Bucket,"/").concat(t.imageLink),style:{width:75,objectFit:"cover",marginRight:20}}),l.a.createElement("div",{style:{width:"100%",textAlign:"left"}},l.a.createElement("h4",null,t.name),l.a.createElement("p",null,t.description)),l.a.createElement("div",null,"$",t.price))):l.a.createElement("span",null),l.a.createElement(S.a,{variant:"success",size:"lg",onClick:this.verifyPhone.bind(this)},"Continue")))}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.state={code:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"verifyAccount",value:function(){this.state.code===JSON.stringify(this.props.state.verifyCode)?this.props.setState({view:"ProfileSummary"}):window.alert("Verification code is invalid. Please try again.")}},{key:"register",value:function(){var e=this.props.state,t=new FormData;t.append("imgFile",e.file),C.a.post("api/customers/register?firstName="+e.firstName+"&lastName="+e.lastName+"&email="+e.email+"&phone="+e.phone+"&summary="+e.summary,t).then(function(e){console.log(e),window.localStorage.setItem("token",e.data.token),window.location="/checkout"}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h3",null,"Verify Your Account"),l.a.createElement(F.a,null,l.a.createElement(G.a,{className:"verificationInput",placeholder:"0000",name:"code",onChange:this.handleChange})),l.a.createElement("p",null,"We sent a 4 digit confirmation code to",l.a.createElement("br",null),this.props.state.phone,l.a.createElement("br",null),"You should get it in a few seconds"),this.props.state.customer?l.a.createElement(S.a,{variant:"success",size:"lg",onClick:this.register.bind(this)},"Register"):l.a.createElement(S.a,{variant:"success",size:"lg",onClick:this.verifyAccount.bind(this)},"Continue")))}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){a.props.setState(Object(L.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h3",null,"Create a profile summary"),l.a.createElement(O.a,null,l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Label,null,"Content Provider Summary"),l.a.createElement(O.a.Control,{as:"textarea",rows:"4",placeholder:"I grew up in Arizona and moved to SF when I was 5...",name:"summary",onChange:this.handleChange})),l.a.createElement(O.a.Group,null,l.a.createElement(O.a.Label,null,"Add categories of content you will offer"),l.a.createElement(O.a.Control,{as:"textarea",rows:"4",placeholder:"Add a category",name:"category",onChange:this.handleChange}))),l.a.createElement(S.a,{variant:"success",size:"lg",onClick:function(){return e.props.setState({view:"SubscriptionPlan"})}},"Next")))}}]),t}(n.Component),pe=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"register",value:function(){var e=this.props.state,t=new FormData;t.append("imgFile",e.file),C.a.post("api/users/register?firstName="+e.firstName+"&lastName="+e.lastName+"&email="+e.email+"&phone="+e.phone+"&summary="+e.summary,t).then(function(e){console.log(e),window.localStorage.setItem("token",e.data.token),window.location.reload()}).catch(function(e){console.error(e)})}},{key:"render",value:function(){return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement(R.a,{vertical:!0},l.a.createElement(S.a,{variant:"light"},l.a.createElement("h4",null,"Small Plan"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),l.a.createElement("h4",null,"$0 Per Month")),l.a.createElement(S.a,{variant:"light"},l.a.createElement("h4",null,"Medium Plan"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),l.a.createElement("h4",null,"$199 Per Month")),l.a.createElement(S.a,{variant:"light"},l.a.createElement("h4",null,"Pro Plan"),l.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."),l.a.createElement("h4",null,"$399 Per Month"))),l.a.createElement(S.a,{variant:"success",size:"lg",onClick:this.register.bind(this)},"Register")))}}]),t}(n.Component),ge=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={view:"CreateAccount",firstName:"",lastName:"",summary:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.localStorage.getItem("customer")&&C.a.get("/api/pages/search?pageId="+window.localStorage.getItem("pageId")).then(function(t){console.log(t),e.setState({page:t.data.response[0],customer:!0,s3Bucket:t.data.bucket})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this.state.view,t={state:this.state,setState:this.setState.bind(this)};switch(e){case"CreateAccount":return l.a.createElement(ue,t);case"VerifyAccount":return l.a.createElement(de,t);case"ProfileSummary":return l.a.createElement(he,t);case"SubscriptionPlan":return l.a.createElement(pe,t);default:return null}}}]),t}(n.Component),Ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).handleChange=function(e){console.log(e.target),a.props.setState(Object(L.a)({},e.target.name,e.target.value))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"verifyPhone",value:function(){var e=this;C.a.post("api/auth/verify?phone=".concat(this.props.state.phone,"&role=").concat(this.props.state.role)).then(function(t){console.log(t),!0===t.data.success?e.props.setState({verifyCode:t.data.verifyCode,view:"VerifyAccount"}):window.alert("Invalid phone number. Please try again")}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this;return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h2",null,"Login"),l.a.createElement(R.a,{style:{width:"100%"}},l.a.createElement(S.a,{variant:"link",active:"user"===this.props.state.role,onClick:function(){return e.props.setState({role:"user"})}},"Content Provider"),l.a.createElement(S.a,{variant:"link",active:"customer"===this.props.state.role,onClick:function(){return e.props.setState({role:"customer"})}},"Customer")),l.a.createElement("br",null),l.a.createElement("h3",null,"Welcome Back"),l.a.createElement(F.a,null,l.a.createElement(G.a,{className:"verificationInput",placeholder:"+1 000 000 0000",name:"phone",onChange:this.handleChange})),l.a.createElement("p",null,"Please enter your phone number to sign in."),l.a.createElement(S.a,{variant:"success",size:"lg",onClick:this.verifyPhone.bind(this)},"Continue")))}}]),t}(n.Component),fe=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(L.a)({},e.target.name,e.target.value))},a.state={code:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"login",value:function(){var e="";"user"===this.props.state.role&&(e="users"),"customer"===this.props.state.role&&(e="customers"),this.state.code===JSON.stringify(this.props.state.verifyCode)?C.a.post("api/".concat(e,"/login?phone=")+this.props.state.phone).then(function(e){console.log(e),window.localStorage.setItem("token",e.data.token),window.location.reload()}).catch(function(e){console.error(e)}):window.alert("Verification code is invalid. Please try again.")}},{key:"render",value:function(){return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h3",null,"Verify Your Account"),l.a.createElement(F.a,null,l.a.createElement(G.a,{className:"verificationInput",placeholder:"0000",name:"code",onChange:this.handleChange})),l.a.createElement("p",null,"We sent a 4 digit confirmation code to",l.a.createElement("br",null),this.props.state.phone,l.a.createElement("br",null),"You should get it in a few seconds"),l.a.createElement(S.a,{variant:"success",size:"lg",onClick:this.login.bind(this)},"Continue")))}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={role:"user",view:"Login"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.view,t={state:this.state,setState:this.setState.bind(this)};switch(e){case"Login":return l.a.createElement(Ee,t);case"VerifyAccount":return l.a.createElement(fe,t);default:return null}}}]),t}(n.Component),ye=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=window.localStorage.getItem("token");t&&this.setState({decoded:g()(t)},function(){return console.log(e.state.decoded)})}},{key:"render",value:function(){return l.a.createElement(b.a,{transitionName:"fade",transitionAppear:!0,transitionAppearTimeout:500,transitionEnter:!1,transitionLeave:!1},l.a.createElement("div",{className:"center"},l.a.createElement("h1",null,"Welcome to PV3"),l.a.createElement("br",null),l.a.createElement("h5",null,"Congratulations, you're just a few steps away from getting paid for your content."),l.a.createElement("img",{src:a(268),style:{width:"100%",opacity:.6},alt:"Welcome"}),l.a.createElement(E.b,{to:"/pages/add"},l.a.createElement(S.a,{variant:"success",size:"lg"},"Create Your First Page"))))}}]),t}(n.Component),be=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={decoded:!1,login:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=window.localStorage.getItem("token");e&&this.setState({decoded:g()(e)})}},{key:"render",value:function(){return l.a.createElement(v.StripeProvider,{apiKey:"pk_test_BPGq0NsIB5DoeRHctLqSA5tQ00R4ZG7vaT"},l.a.createElement(E.a,null,l.a.createElement("div",{className:"body"},l.a.createElement(ae,{decoded:this.state.decoded,login:this.state.login,setState:this.setState.bind(this)}),this.state.decoded?l.a.createElement("div",null,l.a.createElement(f.a,{exact:!0,path:"/",component:ye}),l.a.createElement(f.a,{path:"/dashboard",component:$})):l.a.createElement("div",null,this.state.login?l.a.createElement(f.a,{path:"/",component:ve}):l.a.createElement(f.a,{exact:!0,path:"/",component:ge})),l.a.createElement(f.c,null,l.a.createElement(f.a,{path:"/customers",component:K}),l.a.createElement(f.a,{path:"/pages/add",component:ne}),l.a.createElement(f.a,{exact:!0,path:"/pages/:pageId",component:re}),l.a.createElement(f.a,{exact:!0,path:"/pages/:pageId/add-content",component:W}),l.a.createElement(f.a,{exact:!0,path:"/pages/:pageId/:contentId",component:X}),l.a.createElement(f.a,{exact:!0,path:"/profile/:profile",component:me}),l.a.createElement(f.a,{path:"/profile/edit/:userId",component:se}),l.a.createElement(f.a,{path:"/account/:userId",component:x}),l.a.createElement(f.a,{path:"/purchased",component:M}),l.a.createElement(f.a,{path:"/purchases",component:_}),l.a.createElement(f.a,{path:"/example",component:te}),l.a.createElement(v.Elements,null,l.a.createElement(f.a,{exact:!0,path:"/checkout",component:I}))),l.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"}))))}}]),t}(n.Component);d.b.add(h.a,h.b,h.c,h.d,h.e,h.f,h.g,h.i,h.h,h.j,h.k);var we=be;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,1,2]]]);
//# sourceMappingURL=main.b149d330.chunk.js.map